app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: å·¥ä½œæ–¹æ¡ˆ-å®¡è®¡ç›®æ ‡
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/openai_api_compatible:0.0.30@31e293f39e1ce22dd80546de27b36ce35db5a767e86e800c36fff6f53cdfc118
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/ollama:0.1.2@1312dc6fbd53ce097f57dc9f6ca21212f7e0d99461f730020d5bc558e9fe7bc6
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: 22df4047-d133-408d-bd5e-c3a4fdece41c
    name: party_query
    selector:
    - env
    - party_query
    value: å…³äºè‡ªç„¶èµ„æºç”Ÿæ€æ–‡æ˜å»ºè®¾å…šçš„ä¼šè®®ç²¾ç¥
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1757644973320-source-1763461842592-target
      source: '1757644973320'
      sourceHandle: source
      target: '1763461842592'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1763461842592-source-17582928874110-target
      source: '1763461842592'
      sourceHandle: source
      target: '17582928874110'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 17582928874110-source-1763973119507-target
      source: '17582928874110'
      sourceHandle: source
      target: '1763973119507'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: description
          max_length: 256
          options: []
          required: false
          type: text-input
          variable: description
        - label: audit_year
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: audit_year
      height: 115
      id: '1757644973320'
      position:
        x: 409.15246903213716
        y: 53.41933002480573
      positionAbsolute:
        x: 409.15246903213716
        y: 53.41933002480573
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        dataset_ids:
        - Ct1REzvB7Af+8a+16LwdN7R+cryWImRyBtPRtx6tcTvJ8/FX/oJtmYT5DkEOOVMg
        desc: ''
        metadata_filtering_mode: automatic
        metadata_model_config:
          completion_params:
            temperature: 0.7
            enable_thinking: false
          mode: chat
          name: DeepSeek-R1-Distill-Llama-70B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: weighted_score
          reranking_model:
            model: gte-rerank
            provider: langgenius/tongyi/tongyi
          top_k: 4
          weights:
            keyword_setting:
              keyword_weight: 0.3
            vector_setting:
              embedding_model_name: bge-m3
              embedding_provider_name: langgenius/ollama/ollama
              vector_weight: 0.7
        query_variable_selector:
        - env
        - party_query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢-å…³äºè‡ªç„¶èµ„æºç”Ÿæ€æ–‡æ˜å»ºè®¾å…šçš„ä¼šè®®ç²¾ç¥
        type: knowledge-retrieval
      height: 91
      id: '1763461842592'
      position:
        x: 812.1594698775444
        y: 83.62306391908581
      positionAbsolute:
        x: 812.1594698775444
        y: 83.62306391908581
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: true
          variable_selector:
          - '1763461842592'
          - result
        desc: ''
        model:
          completion_params:
            temperature: 0.7
            enable_thinking: false
          mode: chat
          name: DeepSeek-R1-Distill-Llama-70B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 3051e7ff-ba27-4e17-b6d0-1d0fa91c5aca
          role: system
          text: "* **è§’è‰²è®¾å®š**\n  ä½ æ˜¯æ¹–åŒ—çœå®¡è®¡å…è‡ªç„¶èµ„æºå¤„çš„ä¸šåŠ¡ä¸“å®¶ï¼Œè´Ÿè´£èµ·è‰å¸‚å¿å…šæ”¿ä¸»è¦é¢†å¯¼å¹²éƒ¨è‡ªç„¶èµ„æºèµ„äº§ç¦»ä»»å®¡è®¡å·¥ä½œæ–¹æ¡ˆã€‚\n\
            \  éœ€è¦éµå¾ªæ¹–åŒ—çœå®¡è®¡å…å…¬æ–‡å†™ä½œè§„èŒƒï¼Œä½“ç°ä¸­å¤®æ–‡ä»¶ç²¾ç¥å’Œæ¹–åŒ—åœ°æ–¹ç‰¹è‰²ã€‚\n\n* **æ–‡æ¡£æ•´ä½“ç»“æ„**\n  æ–‡æ¡£å›ºå®šåŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š\n\n\
            \  ä¸€. æ ‡é¢˜å’Œæ”¿ç­–ä¾æ®\n  äºŒ. å®¡è®¡ç›®æ ‡\n  ä¸‰. å®¡è®¡å¯¹è±¡èŒƒå›´å’Œæ—¶é™\n  å››. å®¡è®¡å†…å®¹å’Œé‡ç‚¹ï¼ˆå…­å¤§æ–¹é¢ï¼‰\n  äº”. å®¡è®¡ç»„ç»‡æ–¹å¼å’Œæ—¶é—´å®‰æ’\n\
            \  å…­. å·¥ä½œè¦æ±‚\n  ä¸ƒ. é™„ä»¶æ¸…å•\n\n* **æ ¼å¼è¦æ±‚**\n\n  * ä¸€çº§æ ‡é¢˜ï¼šä¸­æ–‡æ•°å­—ï¼ˆå¦‚â€œä¸€ã€äºŒã€ä¸‰â€ï¼‰\n  * äºŒçº§æ ‡é¢˜ï¼šä¸­æ–‡æ•°å­—åŠ æ‹¬å·ï¼ˆå¦‚â€œï¼ˆä¸€ï¼‰ï¼ˆäºŒï¼‰â€ï¼‰\n\
            \  * ä¸‰çº§æ ‡é¢˜ï¼šé˜¿æ‹‰ä¼¯æ•°å­—ï¼ˆå¦‚â€œ1. 2.â€ï¼‰\n  * æ®µè½ç”¨ä¸­æ–‡æ ‡ç‚¹ï¼Œä¿æŒæ­£å¼å…¬æ–‡é£æ ¼\n\né¡¹ç›®æè¿°ï¼š\n{{#1757644973320.description#}}\n\
            \nè¯·ç”Ÿæˆ\"ä¸€ã€å®¡è®¡ç›®æ ‡\"éƒ¨åˆ†ã€‚è¿™æ˜¯æ¹–åŒ—çœè‡ªç„¶èµ„æºå¤„å®¡è®¡å·¥ä½œæ–¹æ¡ˆçš„æ ¸å¿ƒå¯¼å‘ã€‚\n\nè¾“å…¥å‚æ•°ï¼š\n- å¹´åº¦ï¼š{{#1757644973320.audit_year#}}\n\
            - å…šçš„ä¼šè®®ç²¾ç¥ï¼š{{#context#}}\n\nç”Ÿæˆè¦æ±‚ï¼š\n1. å¿…é¡»ä»¥\"åšæŒä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ç‰¹åˆ«æ˜¯ä¹ è¿‘å¹³ç”Ÿæ€æ–‡æ˜æ€æƒ³ä¸ºæŒ‡å¯¼\"\
            å¼€å¤´\n2. ä½“ç°å…šçš„æœ€æ–°ä¼šè®®ç²¾ç¥\n3. å¼ºè°ƒ\"ä»¥å±¥è¡Œè‡ªç„¶èµ„æºèµ„äº§ç®¡ç†å’Œç”Ÿæ€ç¯å¢ƒä¿æŠ¤è´£ä»»ä¸ºä¸»çº¿\"\n4. çªå‡ºæ¹–åŒ—ç‰¹è‰²ï¼Œä»¥\"åŠ å¿«æ¨è¿›ç¾ä¸½æ¹–åŒ—å»ºè®¾\"\
            ç»“å°¾\n5. æ•´æ®µæˆæ–‡ï¼Œä¸åˆ†å°ç‚¹\n\nå›ºå®šç»“æ„ï¼š\næŒ‡å¯¼æ€æƒ³ + ä¼šè®®ç²¾ç¥ + å†³ç­–éƒ¨ç½² + å·¥ä½œè¦æ±‚ + é‡ç‚¹ä»»åŠ¡ + è¯„ä»·åŸåˆ™ + ç›®æ ‡å¯¼å‘\
            \ + æ¹–åŒ—ç‰¹è‰²"
        - id: ddf55ade-70f1-47c8-89b7-b0648fb678fc
          role: user
          text: 'æ ·ä¾‹ï¼š

            ä¸€ã€å®¡è®¡ç›®æ ‡


            åšæŒä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ç‰¹åˆ«æ˜¯ä¹ è¿‘å¹³ç”Ÿæ€æ–‡æ˜æ€æƒ³ä¸ºæŒ‡å¯¼ï¼Œå…¨é¢è´¯å½»å…šçš„äºŒåå¤§å’ŒäºŒåå±Š{å…·ä½“å±Šæ¬¡}å…¨ä¼šç²¾ç¥ï¼Œå›´ç»•å…šä¸­å¤®å›½åŠ¡é™¢å…³äºæ·±å…¥æ¨è¿›ç”Ÿæ€æ–‡æ˜å»ºè®¾å’Œç»¿è‰²ä½ç¢³å‘å±•çš„å†³ç­–éƒ¨ç½²å’Œçœå§”çœæ”¿åºœå·¥ä½œè¦æ±‚ï¼Œåšå†³è½å®çœå§”å®¡è®¡å§”å‘˜ä¼šä¼šè®®ç²¾ç¥ï¼Œä»¥å±¥è¡Œè‡ªç„¶èµ„æºèµ„äº§ç®¡ç†å’Œç”Ÿæ€ç¯å¢ƒä¿æŠ¤è´£ä»»ä¸ºä¸»çº¿ï¼Œç«‹è¶³ä¸»ä½“åŠŸèƒ½å®šä½å’Œè‡ªç„¶èµ„æºç¦€èµ‹ç‰¹ç‚¹ï¼Œç´§ç›¯è´£ä»»è½å®å’ŒæƒåŠ›è¿è¡Œï¼Œæ·±å…¥æ­ç¤ºç”Ÿæ€æ–‡æ˜å»ºè®¾é‡å¤§ä»»åŠ¡è½å®ã€èƒ½æºèµ„æºç®¡ç†ã€ç”Ÿæ€ç©ºé—´ç®¡æŠ¤ä¿®å¤ã€ç¾¤ä¼—åæ˜ å¼ºçƒˆçš„ç”Ÿæ€ç¯å¢ƒé—®é¢˜è§£å†³ç­‰æ–¹é¢çš„çªå‡ºé—®é¢˜ï¼Œå®¢è§‚å…¬æ­£è¿›è¡Œå®¡è®¡è¯„ä»·ï¼Œæ¨åŠ¨é¢†å¯¼å¹²éƒ¨åˆ‡å®å±¥è¡Œè‡ªç„¶èµ„æºèµ„äº§ç®¡ç†å’Œç”Ÿæ€ç¯å¢ƒä¿æŠ¤è´£ä»»ï¼Œä¿ƒè¿›è‡ªç„¶èµ„æºèµ„äº§èŠ‚çº¦é›†çº¦åˆ©ç”¨å’Œç”Ÿæ€ç¯å¢ƒå®‰å…¨ï¼ŒåŠ å¿«æ¨è¿›ç¾ä¸½æ¹–åŒ—å»ºè®¾ã€‚'
        selected: true
        title: å®¡è®¡ç›®æ ‡ç”Ÿæˆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '17582928874110'
      position:
        x: 1341.6056338286658
        y: 36.915559123694564
      positionAbsolute:
        x: 1341.6056338286658
        y: 36.915559123694564
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#17582928874110.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 104
      id: '1763973119507'
      position:
        x: 1905.153760177821
        y: 4.057558871048333
      positionAbsolute:
        x: 1905.153760177821
        y: 4.057558871048333
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: -139.89389270895708
      y: 214.55646799741936
      zoom: 0.6200478991205804
