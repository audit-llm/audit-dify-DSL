app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: å®æ–½æ–¹æ¡ˆ-å®¡è®¡ç»„ç»‡æ–¹å¼å’Œæ—¶é—´å®‰æ’
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/openai_api_compatible:0.0.30@31e293f39e1ce22dd80546de27b36ce35db5a767e86e800c36fff6f53cdfc118
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/ollama:0.1.2@1312dc6fbd53ce097f57dc9f6ca21212f7e0d99461f730020d5bc558e9fe7bc6
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: llm
      id: 1764589887197-llm
      source: '1764589887197'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: audit_year
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: audit_year
      height: 90
      id: '1764589887197'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}

            å‚è€ƒæ¨¡æ¿ï¼š

            äº”ã€å®¡è®¡ç»„ç»‡æ–¹å¼å’Œæ—¶é—´å®‰æ’

            ï¼ˆä¸€ï¼‰å®¡è®¡ç»„ç»‡æ–¹å¼

            å®¡è®¡ç»„ç”±çœå®¡è®¡å…ã€å®œæ˜Œå¸‚ç­‰å•ä½äººå‘˜ç»„æˆï¼Œ{xx}ä»»ç»„é•¿ï¼Œ{xx}ä»»ä¸»å®¡ã€{xx}ä»»å°ç»„é•¿ã€‚

            æŒ‰ç…§ã€Šä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å®¡è®¡å‡†åˆ™ã€‹å’Œã€Šæ¹–åŒ—çœå®¡è®¡å…å¸‚å¿å…šæ”¿ä¸»è¦é¢†å¯¼å¹²éƒ¨ç»æµè´£ä»»å®¡è®¡å·¥ä½œæš‚è¡Œè§„ç¨‹ã€‹ã€Šæ¹–åŒ—çœå®¡è®¡å…å®¡è®¡é¡¹ç›®è¿›åº¦ç®¡ç†åŠæ³•ã€‹çš„è§„å®šï¼Œ{xx}åŒå¿—ä¸ºå®¡è®¡ç°åœºè´Ÿè´£äººï¼Œå±¥è¡Œå®¡è®¡ç»„ç»„é•¿çš„å·¥ä½œèŒè´£å¹¶æ‰¿æ‹…ç›¸åº”è´£ä»»ï¼Œè´Ÿè´£ç›¸å…³çš„ç»„ç»‡å®æ–½å’Œç°åœºç®¡ç†å·¥ä½œã€‚å°ç»„é•¿{xx}ï¼Œæ ¹æ®å®¡è®¡ç»„ç»„é•¿çš„å§”æ‰˜å’Œå®¡è®¡åˆ†å·¥ï¼Œå±¥è¡Œèµ·è‰å®¡è®¡æ–‡ä¹¦ã€ç»„ç»‡å¯¹ä¸»è¦å®¡è®¡äº‹é¡¹è¿›è¡Œå®¡è®¡æŸ¥è¯ã€ååŠ©ç»„ç»‡å®æ–½å®¡è®¡ç°åœºç®¡ç†ã€ç£ä¿ƒå®¡è®¡ç»„æˆå‘˜å·¥ä½œã€ç»„ç»‡å®¡è®¡é¡¹ç›®å½’æ¡£å·¥ä½œç­‰èŒè´£ã€‚

            å®¡è®¡ç»„ç”±{xx}å…¼èŒå»‰æ”¿ç›‘ç£å‘˜ï¼Œ{xx}ä»»ä¿å¯†å‘˜ï¼Œ{xx}ä»»è€ƒå‹¤å‘˜ã€‚å„å®¡è®¡å°ç»„æŒ‡å®šä¸“äººè´Ÿè´£ç®¡ç†æ¶‰å¯†èµ„æ–™å’Œç”µå­æ•°æ®ï¼Œåšå¥½å»‰æ”¿å’Œä¿å¯†æé†’ã€ç®¡ç†ã€ç›‘ç£ã€‚

            ï¼ˆäºŒï¼‰å…·ä½“åˆ†å·¥

            èµ´{å®¡è®¡åœ°ç‚¹}è‡ªç„¶èµ„æºå®¡è®¡ç»„ã€‚å…·ä½“åˆ†å·¥å¦‚ä¸‹ï¼š

            å°ç»„é•¿ï¼š{xx}ï¼Œè´Ÿè´£è´Ÿè´£æ’°å†™å®¡å‰è°ƒæŸ¥æŠ¥å‘Šã€åˆ¶å®šå®¡è®¡å®æ–½æ–¹æ¡ˆï¼Œæ”¶é›†æ±‡æ€»ç›¸å…³èµ„æ–™ï¼ŒæŒ‰å‰è¿°å®¡è®¡äº‹é¡¹åˆ†å·¥åšå¥½ç›¸å…³å®¡è®¡å·¥ä½œï¼Œæ‹Ÿå®šå®¡è®¡æŠ¥å‘Šç­‰ã€‚

            ç»„å‘˜ï¼š{xx}è´Ÿè´£åœŸåœ°èµ„æºæ–¹é¢çš„å®¡è®¡äº‹é¡¹ã€‚ï¼›

            {xx}è´Ÿè´£ä¸æ°´èµ„æºã€æ£®æ—ã€æ¹¿åœ°èµ„æºæ–¹é¢çš„å®¡è®¡äº‹é¡¹ã€‚Â 

            ï¼ˆä¸‰ï¼‰æ—¶é—´å®‰æ’

            1.å®¡è®¡å‡†å¤‡é˜¶æ®µï¼š{{#1764589887197.audit_year#}}xxæœˆxxæ—¥è‡³xxæœˆxxæ—¥ï¼Œç»„ç»‡å­¦ä¹ å®¡è®¡å·¥ä½œæ–¹æ¡ˆä»¥åŠç›¸å…³æ³•å¾‹æ³•è§„ï¼Œå¯¹æ±Ÿé™µå¿ä¸»ä½“åŠŸèƒ½å®šä½å’Œè‡ªç„¶èµ„æºç¦€èµ‹æƒ…å†µåŠæ­¤æ¬¡å®¡è®¡äº‹é¡¹è¿›è¡Œå®¡å‰è°ƒç ”ï¼Œåˆ¶å®šè°ƒæŸ¥äº†è§£è®°å½•åŠå®¡è®¡å®æ–½æ–¹æ¡ˆã€‚

            2.å®¡è®¡ç°åœºå®æ–½é˜¶æ®µï¼š{{#1764589887197.audit_year#}}xxæœˆxxæ—¥è‡³xxæœˆxxæ—¥ï¼ŒæŒ‰ç…§å®¡è®¡åˆ†å·¥ã€å®¡è®¡å†…å®¹å’Œé‡ç‚¹è¿›è¡Œå®¡è®¡ï¼Œåšå¥½å®¡è®¡æŸ¥è¯ã€å®¡è®¡å·¥ä½œåº•ç¨¿ã€å®¡è®¡è¯æ®ç¼–åˆ¶å’Œç›¸å…³èµ„æ–™æ”¶é›†ã€æ•´ç†ã€‚

            3.å®¡è®¡æŠ¥å‘Šé˜¶æ®µï¼š{{#1764589887197.audit_year#}}xxæœˆxxæ—¥è‡³xxæœˆxxæ—¥

            å¯¹åº”å®¡è®¡å®æ–½æ–¹æ¡ˆæ•´ç†å®¡è®¡ç›¸å…³èµ„æ–™ï¼Œå¼€å±•å®¡è®¡åº•ç¨¿å’Œå–è¯å•å¤æ ¸å·¥ä½œï¼Œå½¢æˆå¾æ±‚æ„è§ç¨¿åˆç¨¿ã€‚

            ç°åœºå®¡è®¡æœŸé—´ï¼Œå„å®¡è®¡ç»„äºxæœˆxæ—¥ã€xæœˆxæ—¥åŠå®¡è®¡å‡ºç‚¹å‰ï¼Œå‘åè°ƒæŒ‡å¯¼ä¸“ç­æŠ¥é€å®¡è®¡å·¥ä½œè¿›åº¦è¡¨ï¼Œå†…å®¹åŒ…æ‹¬ä½†ä¸é™äºå®¡è®¡ç»„å·¥ä½œè¿›å±•ã€å®¡è®¡å‘ç°çš„é—®é¢˜çº¿ç´¢ã€ä¸‹ä¸€æ­¥å·¥ä½œæ‰“ç®—ç­‰ã€‚[æ—¥æœŸ]å¼€å±•ä¸€æ¬¡ä¸­æœŸæ±‡æŠ¥ã€‚

            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            enable_thinking: false
            temperature: 0.7
          mode: chat
          name: DeepSeek-R1-Distill-Llama-70B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 13f83f8b-88b6-4c20-a3bf-2d3b6e7e1e19
          role: system
          text: "# Role\nä½ æ˜¯ä¸€åä¸“ä¸šçš„æ”¿åºœå®¡è®¡æ–‡ä¹¦æ’°å†™ä¸“å®¶ï¼Œç†Ÿæ‚‰ã€Šä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å®¡è®¡å‡†åˆ™ã€‹åŠè‡ªç„¶èµ„æºèµ„äº§ç¦»ä»»ï¼ˆä»»ä¸­ï¼‰å®¡è®¡çš„å®æ–½æµç¨‹ã€‚\n\
            \n# Task\nè¯·æ ¹æ®ç”¨æˆ·æä¾›çš„ã€å®¡è®¡å¹´ä»½ã€‘(audit_year) å’Œã€é¡¹ç›®èƒŒæ™¯ä¿¡æ¯ã€‘(sye_query)ï¼Œæ’°å†™ã€Šé¢†å¯¼å¹²éƒ¨è‡ªç„¶èµ„æºèµ„äº§ç¦»ä»»ï¼ˆä»»ä¸­ï¼‰å®¡è®¡å®æ–½æ–¹æ¡ˆã€‹ä¸­çš„\
            \ **â€œäº”ã€å®¡è®¡ç»„ç»‡æ–¹å¼å’Œæ—¶é—´å®‰æ’â€** ç« èŠ‚ã€‚\n\n# Inputs\n- **audit_year**: {{{#1764589887197.audit_year#}}}\n\
            - **sye_query**: {{{#sys.query#}}} (åŒ…å«å®¡è®¡ç»„æˆå‘˜åå•ã€èŒåŠ¡ã€å…·ä½“åˆ†å·¥ã€å®¡è®¡å„ä¸ªé˜¶æ®µçš„å…·ä½“èµ·æ­¢æ—¥æœŸç­‰ä¿¡æ¯)\n\
            \n# Guidelines & Constraints\n1. **æ ¼å¼ç»“æ„**ï¼šå¿…é¡»ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹ä¸‰ä¸ªäºŒçº§æ ‡é¢˜è¿›è¡Œç»„ç»‡ï¼š\n   - ï¼ˆä¸€ï¼‰å®¡è®¡ç»„ç»‡æ–¹å¼\n\
            \   - ï¼ˆäºŒï¼‰å…·ä½“åˆ†å·¥\n   - ï¼ˆä¸‰ï¼‰æ—¶é—´å®‰æ’\n2. **æ³•å¾‹å¼•ç”¨**ï¼šåœ¨â€œå®¡è®¡ç»„ç»‡æ–¹å¼â€ä¸­ï¼Œå¿…é¡»å¼•ç”¨ã€Šä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å®¡è®¡å‡†åˆ™ã€‹ã€ã€Šæ¹–åŒ—çœå®¡è®¡å…å¸‚å¿å…šæ”¿ä¸»è¦é¢†å¯¼å¹²éƒ¨ç»æµè´£ä»»å®¡è®¡å·¥ä½œæš‚è¡Œè§„ç¨‹ã€‹å’Œã€Šæ¹–åŒ—çœå®¡è®¡å…å®¡è®¡é¡¹ç›®è¿›åº¦ç®¡ç†åŠæ³•ã€‹ã€‚\n\
            3. **è§’è‰²è®¾å®š**ï¼š\n   - æ ¹æ® `sye_query` æå–ç»„é•¿ã€å‰¯ç»„é•¿ï¼ˆå¦‚æœ‰ï¼‰ã€ä¸»å®¡ã€å°ç»„é•¿ã€å»‰æ”¿ç›‘ç£å‘˜ã€ä¿å¯†å‘˜ã€è€ƒå‹¤å‘˜çš„å…·ä½“äººåã€‚å¦‚æœæ²¡æœ‰è¿™äº›ä¿¡æ¯ç”¨\"\
            [å§“å]\"å ä½ç¬¦æ¥ä»£æ›¿\n   - æè¿°èŒè´£æ—¶ä½¿ç”¨æ ‡å‡†å…¬æ–‡ç”¨è¯­ï¼ˆå¦‚ï¼šâ€œå±¥è¡Œå®¡è®¡ç»„ç»„é•¿çš„å·¥ä½œèŒè´£å¹¶æ‰¿æ‹…ç›¸åº”è´£ä»»â€ï¼Œâ€œè´Ÿè´£ç›¸å…³çš„ç»„ç»‡å®æ–½å’Œç°åœºç®¡ç†å·¥ä½œâ€ç­‰ï¼‰ã€‚\n\
            4. **å…·ä½“åˆ†å·¥**ï¼š\n   - æ ¹æ® `sye_query` å°†å®¡è®¡ç»„æˆå‘˜ä¸å…¶è´Ÿè´£çš„å®¡è®¡æ¿å—ï¼ˆå¦‚ï¼šåœŸåœ°èµ„æºã€æ°´èµ„æºã€æ£®æ—èµ„æºã€èµ„é‡‘ç»©æ•ˆç­‰ï¼‰è¿›è¡Œå¯¹åº”æè¿°ã€‚\n\
            5. **æ—¶é—´å®‰æ’**ï¼š\n   - å°†æ—¶é—´åˆ’åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š\n     1. å®¡è®¡å‡†å¤‡é˜¶æ®µï¼ˆåŒ…å«å®¡å‰è°ƒç ”ã€åˆ¶å®šæ–¹æ¡ˆï¼‰ã€‚\n     2.\
            \ å®¡è®¡ç°åœºå®æ–½é˜¶æ®µï¼ˆåŒ…å«å®¡è®¡æŸ¥è¯ã€åº•ç¨¿ç¼–åˆ¶ï¼‰ã€‚\n     3. å®¡è®¡æŠ¥å‘Šé˜¶æ®µï¼ˆåŒ…å«å¤æ ¸ã€å¾æ±‚æ„è§ï¼‰ã€‚\n   - å¿…é¡»åŒ…å«â€œè¿›åº¦æŠ¥é€æœºåˆ¶â€ï¼šå³æåŠå‘â€œåè°ƒæŒ‡å¯¼ä¸“ç­â€æŠ¥é€è¿›åº¦è¡¨çš„è¦æ±‚ï¼ˆé€šå¸¸åŒ…å«å…·ä½“æŠ¥é€æ—¥æœŸæˆ–é¢‘ç‡ï¼‰ä»¥åŠâ€œä¸­æœŸæ±‡æŠ¥â€çš„å®‰æ’ã€‚\n\
            6. **è¯­æ°”é£æ ¼**ï¼šä¸¥è‚ƒã€å®¢è§‚ã€è§„èŒƒçš„è¡Œæ”¿å…¬æ–‡é£æ ¼ã€‚\n\n# Example Output Structure (Reference)\n\
            äº”ã€å®¡è®¡ç»„ç»‡æ–¹å¼å’Œæ—¶é—´å®‰æ’\nï¼ˆä¸€ï¼‰å®¡è®¡ç»„ç»‡æ–¹å¼\nå®¡è®¡ç»„ç”±çœå®¡è®¡å…ã€[å¸‚/å¿]å®¡è®¡å±€ç­‰å•ä½äººå‘˜ç»„æˆï¼Œ[å§“å]ä»»ç»„é•¿ï¼Œ[å§“å]ä»»ä¸»å®¡...\n\
            æŒ‰ç…§ã€Šä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å®¡è®¡å‡†åˆ™ã€‹...è§„å®šï¼Œ[å§“å]ä¸ºå®¡è®¡ç°åœºè´Ÿè´£äºº...\nå®¡è®¡ç»„ç”±[å§“å]å…¼èŒå»‰æ”¿ç›‘ç£å‘˜...\n\nï¼ˆäºŒï¼‰å…·ä½“åˆ†å·¥\n\
            å®¡è®¡ç»„æˆå‘˜[æ•°é‡]åã€‚å…·ä½“åˆ†å·¥å¦‚ä¸‹ï¼š\n[å§“å]ï¼šè´Ÿè´£[å…·ä½“äº‹é¡¹]...\n[å§“å]ï¼šè´Ÿè´£[å…·ä½“äº‹é¡¹]...\n\nï¼ˆä¸‰ï¼‰æ—¶é—´å®‰æ’\n1.å®¡è®¡å‡†å¤‡é˜¶æ®µï¼š[æ—¥æœŸ]è‡³[æ—¥æœŸ]ï¼Œç»„ç»‡å­¦ä¹ ...\n\
            2.å®¡è®¡ç°åœºå®æ–½é˜¶æ®µï¼š[æ—¥æœŸ]è‡³[æ—¥æœŸ]ï¼ŒæŒ‰ç…§å®¡è®¡åˆ†å·¥...\n3.å®¡è®¡æŠ¥å‘Šé˜¶æ®µï¼š[æ—¥æœŸ]è‡³[æ—¥æœŸ]ã€‚å¯¹åº”å®¡è®¡å®æ–½æ–¹æ¡ˆ...\nç°åœºå®¡è®¡æœŸé—´ï¼Œå„å®¡è®¡ç»„äº[å…·ä½“æ—¥æœŸ]å‘åè°ƒæŒ‡å¯¼ä¸“ç­æŠ¥é€å®¡è®¡å·¥ä½œè¿›åº¦è¡¨...\n\
            \n# Action\nè¯·åŸºäºä¸Šè¿°è¦æ±‚å’Œè¾“å…¥ä¿¡æ¯ï¼Œç”Ÿæˆå®Œæ•´çš„å†…å®¹ã€‚\næ²¡æœ‰è·å–çš„å§“åä»¥åŠæ—¥æœŸç”Ÿæˆ[å§“å]ï¼Œ[æ—¥æœŸ]å ä½ç¬¦ï¼Œä¸è¦ç”Ÿæˆè™šå‡ä¿¡æ¯"
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: llm
      position:
        x: 380
        y: 282
      positionAbsolute:
        x: 380
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#llm.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 105
      id: answer
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: 107.69765682933041
      y: 66.3753333927636
      zoom: 0.757858283255199
