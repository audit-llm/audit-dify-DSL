app:
  description: æ ¹æ®æµ‹ç»˜é™¢æä¾›ç–‘ç‚¹æ¸…å•ç”Ÿæˆå–è¯å•å†…å®¹
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: æµ‹ç»˜é™¢ç–‘ç‚¹æ¸…å•
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.1@5cd6896c375b6765252176760ddcae95bdd2466991ff2a8bae4e1cfd1da98e13
kind: app
version: 0.4.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: true
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: document-extractor
      id: 1763622725916-source-1766149444074-target
      source: '1763622725916'
      sourceHandle: source
      target: '1766149444074'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1766149444074-source-llm-target
      source: '1766149444074'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 53
      id: '1763622725916'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: "ä¸€ã€ä»»åŠ¡ç›®æ ‡\nè¯·æ ¹æ®è¾“å…¥çš„ç–‘ç‚¹æ ¸å®è¡¨æ•°æ®ï¼Œç”Ÿæˆå–è¯å•ä¿¡æ¯æ±‡æ€» issue_listï¼Œå¹¶æœ€ç»ˆä»…è¾“å‡ºä¸€ä¸ªç¬¦åˆæŒ‡å®š\
            \ JSON Schema çš„ JSON ç»“æœã€‚\n\näºŒã€åˆ†ç»„ä¸èšåˆè§„åˆ™ï¼ˆéå¸¸é‡è¦ï¼‰\næŒ‰â€œç–‘ç‚¹åç§°â€è¿›è¡Œåˆ†ç±»\nç–‘ç‚¹åç§°å®Œå…¨ç›¸åŒçš„è®°å½•ï¼Œåˆå¹¶ä¸º\
            \ åŒä¸€ä¸ªå–è¯å•ï¼ˆä¸€ä¸ª issueï¼‰\næ¯ä¸€ä¸ªä¸åŒçš„ç–‘ç‚¹åç§°ï¼Œå¯¹åº” issue_list ä¸­çš„ä¸€ä¸ªå…ƒç´ \nissue å­—æ®µ\nç›´æ¥ä½¿ç”¨è¯¥ç»„å¯¹åº”çš„â€œç–‘ç‚¹åç§°â€\n\
            \nä¸‰ã€äº‹é¡¹æ‘˜è¦ï¼ˆabstractï¼‰ç”Ÿæˆè§„åˆ™\nå¯¹åŒä¸€ç–‘ç‚¹åç§°ä¸‹çš„å¤šæ¡è®°å½•è¿›è¡Œé¢ç§¯ä¸æŒ‡å®šç»´åº¦çš„èšåˆï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹å›ºå®šå¥å¼ç»“æ„ç”Ÿæˆæ‘˜è¦ï¼š\nã€ŒXXXå¿å‘ç°\
            \ XXX é—®é¢˜å…± XXX äº©ã€‚å…¶ä¸­ï¼ŒYYY ç»´åº¦1 XXX äº©ï¼ŒYYY ç»´åº¦2 XXX äº©â€¦â€¦ã€‚ã€\n\n0. é¢ç§¯å­—æ®µå–å€¼ä¼˜å…ˆçº§è§„åˆ™\n\
            åœ¨è¿›è¡Œ é¢ç§¯åˆè®¡ä¸èšåˆè®¡ç®— æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§ç¡®å®šæ¯æ¡è®°å½•æ‰€ä½¿ç”¨çš„é¢ç§¯æ•°å€¼ï¼š\nè‹¥è®°å½•ä¸­å­˜åœ¨â€œæ ¸å®é¢ç§¯â€å­—æ®µï¼Œä¸”å…¶å€¼éç©ºã€é 0\nâ†’ ä¼˜å…ˆä½¿ç”¨â€œæ ¸å®é¢ç§¯â€\
            \ ä½œä¸ºè¯¥è®°å½•çš„æœ‰æ•ˆé¢ç§¯\nè‹¥â€œæ ¸å®é¢ç§¯â€ç¼ºå¤±ã€ä¸ºç©ºæˆ–ä¸º 0\nâ†’ ä½¿ç”¨â€œç–‘ç‚¹é¢ç§¯â€ä½œä¸ºè¯¥è®°å½•çš„æœ‰æ•ˆé¢ç§¯\nä»»ä½•ä¸€æ¡è®°å½•åœ¨ä»»ä¸€è®¡ç®—ä¸­åªèƒ½ä½¿ç”¨ä¸€ä¸ªé¢ç§¯å€¼\n\
            ä¸å¾—åŒæ—¶æˆ–é‡å¤è®¡å…¥â€œç–‘ç‚¹é¢ç§¯â€å’Œâ€œæ ¸å®é¢ç§¯â€\n\né¢ç§¯è®¡ç®—ä¸€è‡´æ€§è¦æ±‚\nä¸Šè¿°é¢ç§¯å–å€¼è§„åˆ™ å¿…é¡»åŒæ—¶é€‚ç”¨äºï¼š\nâ€œå…± XXX äº©â€çš„æ€»é¢ç§¯è®¡ç®—\n\
            â€œå…¶ä¸­ï¼Œâ€¦â€¦â€ä¸­å„èšåˆç»´åº¦ï¼ˆä¹¡é•‡ / å¹´ä»½ç­‰ï¼‰çš„é¢ç§¯æ±‡æ€»\næ‰€æœ‰é¢ç§¯è®¡ç®—ç»“æœé¡»åŸºäº åŒä¸€å¥—å–å€¼è§„åˆ™ï¼Œä¿æŒå‰åä¸€è‡´\n\n1. åŸºæœ¬å­—æ®µå«ä¹‰ï¼ˆä¸éšè§„åˆ™å˜åŒ–ï¼‰\n\
            â€œXXXå¿â€ï¼šä½¿ç”¨å¿çº§è¡Œæ”¿åŒºåç§°\nâ€œXXXé—®é¢˜â€ï¼šä½¿ç”¨ç–‘ç‚¹åç§°\nâ€œå…± XXX äº©â€ï¼š\nä¸ºè¯¥ç–‘ç‚¹åç§°ä¸‹ æ‰€æœ‰è®°å½•é¢ç§¯çš„åˆè®¡å€¼\n\n2.\
            \ èšåˆç»´åº¦åˆ¤å®šè§„åˆ™ï¼ˆå…³é”®é€»è¾‘ï¼‰\nï¼ˆ1ï¼‰ä¼˜å…ˆè§„åˆ™ï¼šå‚è€ƒ sys.query\nå¦‚æœ sys.query ä¸­ æ˜ç¡®æŒ‡å‡ºèšåˆç»´åº¦ï¼ˆä¾‹å¦‚ï¼š\n\
            â€œæŒ‰å¹´ä»½æ±‡æ€»â€\nâ€œæŒ‰å¹´åº¦ç»Ÿè®¡â€\nâ€œæŒ‰æ•´æ”¹å¹´åº¦èšåˆâ€ ç­‰ï¼‰\nåˆ™ ä¸¥æ ¼æŒ‰ç…§ sys.query æŒ‡å®šçš„ç»´åº¦è¿›è¡Œèšåˆ\nç¤ºä¾‹ï¼š\nâ€œå…¶ä¸­ï¼Œ2021å¹´\
            \ XXX äº©ï¼Œ2022å¹´ XXX äº©â€¦â€¦â€\nï¼ˆ2ï¼‰é»˜è®¤è§„åˆ™ï¼ˆå…œåº•è§„åˆ™ï¼‰\nå¦‚æœ sys.query æœªæ˜ç¡®æŒ‡å®šä»»ä½•èšåˆç»´åº¦\nåˆ™ é»˜è®¤æŒ‰ä¹¡é•‡ï¼ˆæˆ–è¡—é“ï¼‰è¿›è¡Œèšåˆ\n\
            ç¤ºä¾‹ï¼š\nâ€œå…¶ä¸­ï¼ŒXXé•‡ XXX äº©ï¼ŒYYé•‡ XXX äº©â€¦â€¦â€\n\n3. èšåˆç»´åº¦é€šç”¨çº¦æŸï¼ˆæ— è®ºæŒ‰ä»€ä¹ˆèšåˆï¼‰\næ— è®ºæŒ‰ ä¹¡é•‡ / å¹´ä»½ /\
            \ å…¶ä»–ç»´åº¦ï¼Œå‡éœ€æ»¡è¶³ï¼š\nåŒä¸€èšåˆç»´åº¦å€¼ åªå‡ºç°ä¸€æ¬¡\nå¯¹åº”é¢ç§¯ä¸ºè¯¥ç»´åº¦ä¸‹æ‰€æœ‰è®°å½•é¢ç§¯çš„åˆè®¡å€¼\nå¤šä¸ªç»´åº¦é¡¹ä¹‹é—´ä½¿ç”¨ ä¸­æ–‡é€—å·ï¼ˆï¼Œï¼‰ åˆ†éš”\n\
            è¡¨è¿°é¡ºåºåº”ç¬¦åˆå¸¸è¯†ï¼ˆå¦‚ï¼š\nå¹´ä»½æŒ‰æ—¶é—´å‡åº\nä¹¡é•‡å¯æŒ‰é¢ç§¯æˆ–è¡¨ä¸­å‡ºç°é¡ºåºï¼‰\n\n4. ç¤ºä¾‹ï¼ˆä»…ä½œç†è§£ï¼Œä¸ä½œä¸ºè¾“å‡ºï¼‰\næŒ‰ä¹¡é•‡ï¼ˆé»˜è®¤ï¼‰\n\
            å—æ¼³å¿å‘ç°å ç”¨è€•åœ°é—®é¢˜å…± 320 äº©ã€‚å…¶ä¸­ï¼ŒåŸå…³é•‡ 120 äº©ï¼Œä¹é›†é•‡ 200 äº©ã€‚\næŒ‰å¹´ä»½ï¼ˆsys.query æŒ‡å®šï¼‰\nå—æ¼³å¿å‘ç°å ç”¨è€•åœ°é—®é¢˜å…±\
            \ 320 äº©ã€‚å…¶ä¸­ï¼Œ2021å¹´ 80 äº©ï¼Œ2022å¹´ 240 äº©ã€‚\n\n5. é‡è¦çº¦æŸ\nabstract å¿…é¡»ä¸º å®Œæ•´çš„ä¸€å¥è¯æˆ–ä¸¤å¥è¯\n\
            ä¸å¾—å‡ºç°â€œç–‘ä¼¼â€â€œå¯èƒ½â€â€œåˆæ­¥åˆ¤æ–­â€ç­‰ä¸ç¡®å®šæ€§è¡¨è¿°\nä¸å¾—å¼•å…¥ schema ä¸­æœªå®šä¹‰çš„ä¿¡æ¯å­—æ®µ\n\nå››ã€èšåˆé¡¹ç´¢å¼•ï¼ˆaggr_itemsï¼‰è§„åˆ™\n\
            aggr_items ç”¨äºè®°å½•æœ¬å–è¯å•ä¸­èšåˆäº†å“ªäº›â€œè¿æ³•é—®é¢˜ç–‘ç‚¹ä¸€è§ˆè¡¨â€çš„åŸå§‹è®°å½•\nå…¶å€¼ä¸ºä¸€ä¸ª æ•°å­—æ•°ç»„\næ•°å­—è¡¨ç¤ºï¼š\nå¯¹åº”åŸå§‹ç–‘ç‚¹è¡¨ä¸­è¢«èšåˆè®°å½•çš„\
            \ è¡Œå· / åºå· / indexï¼ˆä»¥è¾“å…¥æ•°æ®ä¸­çš„æ ‡è¯†ä¸ºå‡†ï¼‰\nåŒä¸€ç–‘ç‚¹åç§°ä¸‹çš„æ‰€æœ‰è®°å½•ï¼Œå…¶ç´¢å¼•éƒ½åº”åŒ…å«åœ¨è¯¥æ•°ç»„ä¸­\n\näº”ã€è¾“å‡ºæ ¼å¼è¦æ±‚ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆï¼‰\n\
            åªè¾“å‡º JSONï¼Œä¸è¦è¾“å‡ºä»»ä½•è§£é‡Šæ€§æ–‡å­—å’Œmarkdownæ ‡è®°\nè¾“å‡ºå†…å®¹å¿…é¡» ä¸¥æ ¼ç¬¦åˆä»¥ä¸‹ JSON Schema\nä¸å¾—æ–°å¢ä»»ä½•å­—æ®µï¼Œä¸å¾—ç¼ºå¤±å¿…å¡«å­—æ®µ\n\
            \n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"issue_list\"\
            : {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\"\
            : \"object\",\n        \"properties\": {\n          \"issue\": {\n   \
            \         \"type\": \"string\"\n          },\n          \"abstract\":\
            \ {\n            \"type\": \"string\"\n          },\n          \"aggr_items\"\
            : {\n            \"type\": \"array\",\n            \"items\": {\n    \
            \          \"type\": \"number\"\n            }\n          }\n        },\n\
            \        \"required\": [\n          \"issue\",\n          \"abstract\"\
            ,\n          \"aggr_items\"\n        ],\n        \"additionalProperties\"\
            : false\n      }\n    }\n  },\n  \"required\": [\n    \"issue_list\"\n\
            \  ],\n  \"additionalProperties\": false\n}\n\nç°åœ¨ï¼Œè¯·å¼€å§‹{{#sys.query#}}"
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            enable_thinking: true
            temperature: 0.7
          mode: chat
          name: qwen3-32b
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: a30a0861-5a39-4698-b5b3-b419413869e2
          role: system
          text: ä½ æ˜¯ä¸€åè‡ªç„¶èµ„æºèµ„äº§å®¡è®¡å–è¯è¾…åŠ©ç³»ç»Ÿï¼Œéœ€è¦æ ¹æ®â€œç–‘ç‚¹æ ¸å®è¡¨â€ç”Ÿæˆå–è¯å•æ‰€éœ€çš„ä¿¡æ¯æ±‡æ€»ã€‚
        - id: 5d2a6796-0d2e-45cf-bc61-d1d9721b7b27
          role: user
          text: '{{#sys.files#}}


            {{#1766149444074.text#}}/'
        - id: 120d358a-d2db-4749-be87-b0618ada8eda
          role: assistant
          text: å¥½çš„ï¼Œä¸Šé¢çš„ä¿¡æ¯æ˜¯æ‚¨è¾“å…¥çš„æ–‡ä»¶ï¼Œæˆ‘å¯ä»¥å¸®ä½ åšä»€ä¹ˆï¼Ÿ
        selected: true
        structured_output:
          schema:
            additionalProperties: false
            properties:
              issue_list:
                items:
                  additionalProperties: false
                  properties:
                    abstract:
                      type: string
                    aggr_items:
                      items:
                        type: number
                      type: array
                    issue:
                      type: string
                  required:
                  - issue
                  - abstract
                  - aggr_items
                  type: object
                type: array
            required:
            - issue_list
            type: object
        structured_output_enabled: false
        title: LLM
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: llm
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#llm.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 104
      id: answer
      position:
        x: 980
        y: 282
      positionAbsolute:
        x: 980
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - sys
        - files
      height: 93
      id: '1766149444074'
      position:
        x: 380
        y: 282
      positionAbsolute:
        x: 380
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: -87.67757996984403
      y: 49.8968688748522
      zoom: 0.8717582395370637
