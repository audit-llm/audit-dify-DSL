app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: å®æ–½æ–¹æ¡ˆ-å®¡è®¡ç›®æ ‡
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.1@5cd6896c375b6765252176760ddcae95bdd2466991ff2a8bae4e1cfd1da98e13
kind: app
version: 0.4.0
workflow:
  conversation_variables: []
  environment_variables:
  - description: ''
    id: 3197a2f2-b4ad-401d-8fbd-c0484a0e1708
    name: party_query
    selector:
    - env
    - party_query
    value: å…³äºè‡ªç„¶èµ„æºç”Ÿæ€æ–‡æ˜å»ºè®¾å…šçš„ä¼šè®®ç²¾ç¥
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: llm
        targetType: answer
      id: llm-answer
      source: llm
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: knowledge-retrieval
      id: 1764585766794-source-1764586220822-target
      source: '1764585766794'
      sourceHandle: source
      target: '1764586220822'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1764586220822-source-llm-target
      source: '1764586220822'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: audit_year
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: audit_year
      height: 90
      id: '1764585766794'
      position:
        x: 79
        y: 282
      positionAbsolute:
        x: 79
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}

            äºŒã€å®¡è®¡ç›®æ ‡

            åšæŒä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ç‰¹åˆ«æ˜¯ä¹ è¿‘å¹³ç”Ÿæ€æ–‡æ˜æ€æƒ³ä¸ºæŒ‡å¯¼ï¼Œå…¨é¢è´¯å½»å…šçš„äºŒåå¤§å’ŒäºŒåå±Š{å…·ä½“å±Šæ¬¡}å…¨ä¼šç²¾ç¥ï¼Œå›´ç»•å…šä¸­å¤®å›½åŠ¡é™¢å…³äºæ·±å…¥æ¨è¿›ç”Ÿæ€æ–‡æ˜å»ºè®¾å’Œç»¿è‰²ä½ç¢³å‘å±•çš„å†³ç­–éƒ¨ç½²å’Œçœå§”çœæ”¿åºœå·¥ä½œè¦æ±‚ï¼Œåšå†³è½å®çœå§”å®¡è®¡å§”å‘˜ä¼šä¼šè®®ç²¾ç¥ï¼Œä»¥å±¥è¡Œè‡ªç„¶èµ„æºèµ„äº§ç®¡ç†å’Œç”Ÿæ€ç¯å¢ƒä¿æŠ¤è´£ä»»ä¸ºä¸»çº¿ï¼Œç«‹è¶³ä¸»ä½“åŠŸèƒ½å®šä½å’Œè‡ªç„¶èµ„æºç¦€èµ‹ç‰¹ç‚¹ï¼Œç´§ç›¯è´£ä»»è½å®å’ŒæƒåŠ›è¿è¡Œï¼Œæ·±å…¥æ­ç¤ºç”Ÿæ€æ–‡æ˜å»ºè®¾é‡å¤§ä»»åŠ¡è½å®ã€èƒ½æºèµ„æºç®¡ç†ã€ç”Ÿæ€ç©ºé—´ç®¡æŠ¤ä¿®å¤ã€ç¾¤ä¼—åæ˜ å¼ºçƒˆçš„ç”Ÿæ€ç¯å¢ƒé—®é¢˜è§£å†³ç­‰æ–¹é¢çš„çªå‡ºé—®é¢˜ï¼Œå®¢è§‚å…¬æ­£è¿›è¡Œå®¡è®¡è¯„ä»·ï¼Œæ¨åŠ¨é¢†å¯¼å¹²éƒ¨åˆ‡å®å±¥è¡Œè‡ªç„¶èµ„æºèµ„äº§ç®¡ç†å’Œç”Ÿæ€ç¯å¢ƒä¿æŠ¤è´£ä»»ï¼Œä¿ƒè¿›è‡ªç„¶èµ„æºèµ„äº§èŠ‚çº¦é›†çº¦åˆ©ç”¨å’Œç”Ÿæ€ç¯å¢ƒå®‰å…¨ï¼ŒåŠ å¿«æ¨è¿›ç¾ä¸½æ¹–åŒ—å»ºè®¾ã€‚

            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            enable_thinking: false
            temperature: 1
          mode: chat
          name: qwen3-32b
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: f39a6e6c-9acc-428e-95b8-dc288a1c641f
          role: system
          text: 'è§’è‰²è®¾å®šï¼š

            ä½ æ˜¯ä¸€ä¸ªè‡ªç„¶èµ„æºèµ„äº§å®¡è®¡ä¸“å®¶,ç°åœ¨è¦æ±‚ä½ ç”Ÿæˆå®æ–½æ–¹æ¡ˆçš„å®¡è®¡ç›®æ ‡

            ä»»åŠ¡:

            ç”Ÿæˆ"äºŒã€å®¡è®¡ç›®æ ‡"éƒ¨åˆ†ã€‚è¿™æ˜¯æ¹–åŒ—çœè‡ªç„¶èµ„æºå¤„å®¡è®¡å·¥ä½œæ–¹æ¡ˆçš„æ ¸å¿ƒå¯¼å‘ã€‚

            è¾“å…¥å‚æ•°ï¼š

            - å¹´åº¦ï¼š{{#1764585766794.audit_year#}}

            - å…šçš„ä¼šè®®ç²¾ç¥ï¼š{{#context#}}


            ç”Ÿæˆè¦æ±‚ï¼š

            1.å…ˆç”Ÿæˆ "äºŒã€å®¡è®¡ç›®æ ‡" ä¸€çº§æ ‡é¢˜ç„¶åæ¢è¡Œ

            2. å¿…é¡»ä»¥"åšæŒä»¥ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³ç‰¹åˆ«æ˜¯ä¹ è¿‘å¹³ç”Ÿæ€æ–‡æ˜æ€æƒ³ä¸ºæŒ‡å¯¼"å¼€å¤´

            3. ä½“ç°å…šçš„æœ€æ–°ä¼šè®®ç²¾ç¥

            4. å¼ºè°ƒ"ä»¥å±¥è¡Œè‡ªç„¶èµ„æºèµ„äº§ç®¡ç†å’Œç”Ÿæ€ç¯å¢ƒä¿æŠ¤è´£ä»»ä¸ºä¸»çº¿"

            5. çªå‡ºæ¹–åŒ—ç‰¹è‰²ï¼Œä»¥"åŠ å¿«æ¨è¿›ç¾ä¸½æ¹–åŒ—å»ºè®¾"ç»“å°¾

            6. æ•´æ®µæˆæ–‡ï¼Œä¸åˆ†å°ç‚¹


            å›ºå®šç»“æ„ï¼š

            æŒ‡å¯¼æ€æƒ³ + ä¼šè®®ç²¾ç¥ + å†³ç­–éƒ¨ç½² + å·¥ä½œè¦æ±‚ + é‡ç‚¹ä»»åŠ¡ + è¯„ä»·åŸåˆ™ + ç›®æ ‡å¯¼å‘ + æ¹–åŒ—ç‰¹è‰²'
        selected: false
        title: å®¡è®¡ç›®æ ‡ç”Ÿæˆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: llm
      position:
        x: 680
        y: 282
      positionAbsolute:
        x: 680
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#llm.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 105
      id: answer
      position:
        x: 980
        y: 282
      positionAbsolute:
        x: 980
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        dataset_ids:
        - Ct1REzvB7Af+8a+16LwdN7R+cryWImRyBtPRtx6tcTvJ8/FX/oJtmYT5DkEOOVMg
        desc: ''
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: reranking_model
          reranking_model:
            model: gte-rerank
            provider: langgenius/tongyi/tongyi
          top_k: 4
        query_variable_selector:
        - env
        - party_query
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è¯†æ£€ç´¢-å…³äºè‡ªç„¶èµ„æºç”Ÿæ€æ–‡æ˜å»ºè®¾å…šçš„ä¼šè®®ç²¾ç¥
        type: knowledge-retrieval
      height: 92
      id: '1764586220822'
      position:
        x: 381.5157165665104
        y: 282
      positionAbsolute:
        x: 381.5157165665104
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -151.99512523661542
      y: 108.35219465584913
      zoom: 0.9117224397007978
