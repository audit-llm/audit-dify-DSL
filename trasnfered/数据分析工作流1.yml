app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: æ•°æ®åˆ†æå·¥ä½œæµ1
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: langgenius/openai_api_compatible:0.0.30@31e293f39e1ce22dd80546de27b36ce35db5a767e86e800c36fff6f53cdfc118
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: jaguarliuu/rookie_text2data:1.0.3@ae7c6c940cfdb3d4b23e590f007ccb7b7595547f2a8de5fb6b34801e6c9395d6
kind: app
version: 0.3.1
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - document
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1762798315997-false-1762805735019-target
      source: '1762798315997'
      sourceHandle: 'false'
      target: '1762805735019'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: 1762798056508-source-1762850617238-target
      source: '1762798056508'
      sourceHandle: source
      target: '1762850617238'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: if-else
      id: 1762850617238-f728ae4c-5b2d-44aa-9599-64f5a3ecf398-1762798315997-target
      source: '1762850617238'
      sourceHandle: f728ae4c-5b2d-44aa-9599-64f5a3ecf398
      target: '1762798315997'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1762850617238-false-17628506871820-target
      source: '1762850617238'
      sourceHandle: 'false'
      target: '17628506871820'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: variable-aggregator
      id: 17628506871820-source-1762850709903-target
      source: '17628506871820'
      sourceHandle: source
      target: '1762850709903'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: variable-aggregator
      id: 1762806404950-source-1762850709903-target
      source: '1762806404950'
      sourceHandle: source
      target: '1762850709903'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: variable-aggregator
        targetType: llm
      id: 1762850709903-source-1762804537142-target
      source: '1762850709903'
      sourceHandle: source
      target: '1762804537142'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: document-extractor
      id: 1762798315997-true-1762850964553-target
      source: '1762798315997'
      sourceHandle: 'true'
      target: '1762850964553'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: document-extractor
        targetType: llm
      id: 1762850964553-source-17628515797280-target
      source: '1762850964553'
      sourceHandle: source
      target: '17628515797280'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: end
      id: 1762804537142-source-1762806238654-target
      source: '1762804537142'
      sourceHandle: source
      target: '1762806238654'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: end
      id: 17628515797280-source-17654538407950-target
      source: '17628515797280'
      sourceHandle: source
      target: '17654538407950'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 1762805735019-source-1769152389349-target
      source: '1762805735019'
      sourceHandle: source
      target: '1769152389349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1769152389349-source-1762806404950-target
      source: '1769152389349'
      sourceHandle: source
      target: '1762806404950'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: query
          max_length: 48
          options: []
          required: false
          type: text-input
          variable: query
        - allowed_file_extensions: []
          allowed_file_types:
          - document
          allowed_file_upload_methods:
          - local_file
          - remote_url
          label: files
          max_length: 5
          options: []
          required: false
          type: file-list
          variable: files
        - label: sql
          max_length: 200
          options: []
          required: false
          type: text-input
          variable: sql
      height: 141
      id: '1762798056508'
      position:
        x: 434.28571428571445
        y: 282.42857142857144
      positionAbsolute:
        x: 434.28571428571445
        y: 282.42857142857144
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: ae429784-a5dc-48b8-94a6-ddcb7cd6304e
            sub_variable_condition:
              case_id: da5f8c4e-40ba-428e-9cdf-07e600c02a0f
              conditions:
              - comparison_operator: '>'
                id: 38287587-8268-4ea9-9608-203e82fdf3c7
                key: size
                numberVarType: constant
                value: '0'
                varType: number
              logical_operator: and
            value: ''
            varType: array[file]
            variable_selector:
            - '1762798056508'
            - files
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 149
      id: '1762798315997'
      position:
        x: 738.3179650691318
        y: 251.83872100357286
      positionAbsolute:
        x: 738.3179650691318
        y: 251.83872100357286
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: DeepSeek-R1-Distill-Llama-70B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 745e17e8-3026-4d0c-9532-d6895e295792
          role: system
          text: ä½ æ˜¯ä¸€ä¸ªå®¡è®¡æ•°æ®åˆ†æä¸“å®¶ï¼Œæ ¹æ®ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£åˆ†ææ•°æ®ç–‘ç‚¹ï¼Œæˆ–æ€»ç»“ä¼šè®®çºªè¦ã€‚
        - id: e96608af-3669-41f5-a373-7e0bae377d14
          role: user
          text: 'ç”¨æˆ·è¾“å…¥ï¼š{{#1762798056508.query#}}

            ä½¿ç”¨çš„SQLï¼š{{#1769152389349.result#}}

            æŸ¥è¯¢ç»“æœï¼š{{#1762850709903.output#}}


            åœ¨ç»™å‡ºè‡ªç„¶è¯­è¨€çš„åˆ†æå‰éœ€è¦æ‰“å°æœ¬æ¬¡æŸ¥è¯¢ä½¿ç”¨çš„sqlï¼Œå¹¶åŒæ—¶åŸå°ä¸åŠ¨æ‰“å°è¡¨æ ¼å½¢å¼çš„æŸ¥è¯¢ç»“æœï¼Œç„¶åå†å¯¹å…¶è¿›è¡Œæ•°æ®åˆ†æã€‚


            åœ¨ç»™å‡ºè‡ªç„¶è¯­è¨€çš„åˆ†æåï¼Œéœ€è¦é™„å¸¦ä¸Šæ•´ç†å¥½çš„ã€æ‰€æœ‰ç–‘ç‚¹æœ€ç»ˆéƒ½éœ€è¦ç”¨ä¸€ä¸ªè¡¨æ ¼æ ¼å¼å±•ç¤ºç–‘ç‚¹æ¸…å•ï¼Œè¡¨æ ¼éœ€è¦æœ‰ä»¥ä¸‹å­—æ®µï¼šåºå· | åœ°çº§å¸‚åç§° | å¸‚å¿åŒºåç§°
            | ç–‘ç‚¹åˆ†ç±» | ç–‘ç‚¹åç§° | é—®é¢˜è¯¦è¿° | ç–‘ä¼¼è¿æ³•æ³•è§„ | æ ¸å®æƒ…å†µï¼ˆç»Ÿä¸€å¡«â€œå¾…æ ¸å®â€ï¼‰ | å¤‡æ³¨'
        selected: false
        title: LLM 2
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1762804537142'
      position:
        x: 1657.8869820286939
        y: 692.9999999999999
      positionAbsolute:
        x: 1657.8869820286939
        y: 692.9999999999999
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          label:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          llm_description: Database type
          max: null
          min: null
          name: db_type
          options:
          - icon: ''
            label:
              en_US: MySQL
              ja_JP: MySQL
              pt_BR: MySQL
              zh_Hans: MySQLæ•°æ®åº“
            value: mysql
          - icon: ''
            label:
              en_US: PostgreSQL
              ja_JP: PostgreSQL
              pt_BR: PostgreSQL
              zh_Hans: PostgreSQLæ•°æ®åº“
            value: postgresql
          - icon: ''
            label:
              en_US: SQL Server
              ja_JP: SQL Server
              pt_BR: SQL Server
              zh_Hans: SQL Serveræ•°æ®åº“
            value: sqlserver
          - icon: ''
            label:
              en_US: Oracle
              ja_JP: Oracle
              pt_BR: Oracle
              zh_Hans: Oracleæ•°æ®åº“
            value: oracle
          - icon: ''
            label:
              en_US: GaussDB
              ja_JP: GaussDB
              pt_BR: GaussDB
              zh_Hans: åä¸ºé«˜æ–¯æ•°æ®åº“
            value: gaussdb
          - icon: ''
            label:
              en_US: DM Database
              ja_JP: DM Database
              pt_BR: DM Database
              zh_Hans: è¾¾æ¢¦æ•°æ®åº“
            value: dm
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: limit
            ja_JP: limit
            pt_BR: limit
            zh_Hans: SQLè¿”å›æ•°æ®é‡é™åˆ¶
          label:
            en_US: limit
            ja_JP: limit
            pt_BR: limit
            zh_Hans: SQLè¿”å›æ•°æ®é‡é™åˆ¶
          llm_description: limit
          max: 100000
          min: 1
          name: limit
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: json
          form: llm
          human_description:
            en_US: result_format
            ja_JP: result_format
            pt_BR: result_format
            zh_Hans: è¿”å›æ•°æ®æ ¼å¼
          label:
            en_US: result_format
            ja_JP: result_format
            pt_BR: result_format
            zh_Hans: è¿”å›æ•°æ®æ ¼å¼
          llm_description: result_format
          max: null
          min: null
          name: result_format
          options:
          - icon: ''
            label:
              en_US: JSON
              ja_JP: JSON
              pt_BR: JSON
              zh_Hans: JSON
            value: json
          - icon: ''
            label:
              en_US: TEXT
              ja_JP: TEXT
              pt_BR: TEXT
              zh_Hans: TEXT
            value: text
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database ip/host
            ja_JP: Database ip/host
            pt_BR: Database ip/host
            zh_Hans: æ•°æ®åº“IP/åŸŸå
          label:
            en_US: Database ip/host
            ja_JP: Database ip/host
            pt_BR: Database ip/host
            zh_Hans: æ•°æ®åº“IP/åŸŸå
          llm_description: Database ip/host
          max: null
          min: null
          name: host
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database port
            ja_JP: Database port
            pt_BR: Database port
            zh_Hans: æ•°æ®åº“ç«¯å£
          label:
            en_US: Database port
            ja_JP: Database port
            pt_BR: Database port
            zh_Hans: æ•°æ®åº“ç«¯å£
          llm_description: Database port
          max: 65535
          min: 1
          name: port
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: æ•°æ®åº“åç§°
          label:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: æ•°æ®åº“åç§°
          llm_description: Database name
          max: null
          min: null
          name: db_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: table_names
            ja_JP: table_names
            pt_BR: table_names
            zh_Hans: æ•°æ®è¡¨åç§°
          label:
            en_US: table_names
            ja_JP: table_names
            pt_BR: table_names
            zh_Hans: æ•°æ®è¡¨åç§°
          llm_description: table_names
          max: null
          min: null
          name: table_names
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Schema name
            ja_JP: Schema name
            pt_BR: Schema name
            zh_Hans: æ•°æ®åº“Schema PGSQLç”¨æˆ·é€‰å¡«ï¼Œé»˜è®¤ä¸ºpublic
          label:
            en_US: Schema name
            ja_JP: Schema name
            pt_BR: Schema name
            zh_Hans: æ•°æ®åº“Schemaï¼ˆPGSQLé»˜è®¤ä¸ºpublicï¼ŒOracle/DMé»˜è®¤ä¸ºç”¨æˆ·åå¤§å†™ï¼‰
          llm_description: Schema name
          max: null
          min: null
          name: schema_name
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          label:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          llm_description: Username
          max: null
          min: null
          name: username
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          label:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          llm_description: Password
          max: null
          min: null
          name: password
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: secret-input
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: LLM model for text2data.
            ja_JP: LLM model for text2data.
            pt_BR: LLM model for text2data.
            zh_Hans: LLM model for text2data.
          label:
            en_US: Model
            ja_JP: Model
            pt_BR: Model
            zh_Hans: æ¨¡å‹
          llm_description: LLM model for text2data.
          max: null
          min: null
          name: model
          options: []
          placeholder: null
          precision: null
          required: true
          scope: llm
          template: null
          type: model-selector
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Fetching data from the database using natural language.
            ja_JP: Fetching data from the database using natural language.
            pt_BR: Fetching data from the database using natural language.
            zh_Hans: Fetching data from the database using natural language.
          label:
            en_US: Query string
            ja_JP: Query string
            pt_BR: Query string
            zh_Hans: æŸ¥è¯¢è¯­å¥
          llm_description: Fetching data from the database using natural language.
          max: null
          min: null
          name: query
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: custom_prompt
            ja_JP: custom_prompt
            pt_BR: custom_prompt
            zh_Hans: è‡ªå®šä¹‰æç¤º
          label:
            en_US: custom_prompt
            ja_JP: custom_prompt
            pt_BR: custom_prompt
            zh_Hans: è‡ªå®šä¹‰æç¤º
          llm_description: custom_prompt
          max: null
          min: null
          name: custom_prompt
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: with_comment
            ja_JP: with_comment
            pt_BR: with_comment
            zh_Hans: æ˜¯å¦åŒ…å«æ³¨é‡Š
          label:
            en_US: with_comment
            ja_JP: with_comment
            pt_BR: with_comment
            zh_Hans: æ˜¯å¦åŒ…å«æ³¨é‡Š
          llm_description: with_comment
          max: null
          min: null
          name: with_comment
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: boolean
        params:
          custom_prompt: ''
          db_name: ''
          db_type: ''
          host: ''
          limit: ''
          model: ''
          password: ''
          port: ''
          query: ''
          result_format: ''
          schema_name: ''
          table_names: ''
          username: ''
          with_comment: ''
        provider_id: jaguarliuu/rookie_text2data/rookie_text2data
        provider_name: jaguarliuu/rookie_text2data/rookie_text2data
        provider_type: builtin
        selected: false
        title: rookie_text2data
        tool_configurations:
          model:
            type: constant
            value:
              completion_params:
                enable_thinking: false
              mode: chat
              model: DeepSeek-R1-Distill-Llama-70B
              model_type: llm
              provider: langgenius/openai_api_compatible/openai_api_compatible
          with_comment:
            type: constant
            value: null
        tool_description: ä½¿ç”¨è‡ªç„¶è¯­è¨€ä»MySQLè·å–æ•°æ®
        tool_label: rookie_text2data
        tool_name: rookie_text2data
        tool_node_version: '2'
        tool_parameters:
          custom_prompt:
            type: mixed
            value: ''
          db_name:
            type: mixed
            value: audit_flow
          db_type:
            type: constant
            value: mysql
          host:
            type: mixed
            value: 100.81.13.52
          limit:
            type: constant
            value: null
          password:
            type: mixed
            value: '123456'
          port:
            type: constant
            value: 3306
          query:
            type: mixed
            value: '{{#1762798056508.query#}}'
          result_format:
            type: constant
            value: text
          schema_name:
            type: mixed
            value: ''
          table_names:
            type: mixed
            value: ''
          username:
            type: mixed
            value: root
        type: tool
      height: 115
      id: '1762805735019'
      position:
        x: 970.3624113148487
        y: 493.9120920037162
      positionAbsolute:
        x: 970.3624113148487
        y: 493.9120920037162
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1762804537142'
          - text
          value_type: string
          variable: output
        selected: false
        title: ç»“æŸ
        type: end
      height: 89
      id: '1762806238654'
      position:
        x: 1830.5331064970303
        y: 493.9120920037162
      positionAbsolute:
        x: 1830.5331064970303
        y: 493.9120920037162
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          label:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          llm_description: Database type
          max: null
          min: null
          name: db_type
          options:
          - icon: ''
            label:
              en_US: MySQL
              ja_JP: MySQL
              pt_BR: MySQL
              zh_Hans: MySQL
            value: mysql
          - icon: ''
            label:
              en_US: PostgreSQL
              ja_JP: PostgreSQL
              pt_BR: PostgreSQL
              zh_Hans: PostgreSQL
            value: postgresql
          - icon: ''
            label:
              en_US: SQL Server
              ja_JP: SQL Server
              pt_BR: SQL Server
              zh_Hans: SQL Server
            value: sqlserver
          - icon: ''
            label:
              en_US: Oracle
              ja_JP: Oracle
              pt_BR: Oracle
              zh_Hans: Oracle
            value: oracle
          - icon: ''
            label:
              en_US: GaussDB
              ja_JP: GaussDB
              pt_BR: GaussDB
              zh_Hans: åä¸ºé«˜æ–¯æ•°æ®åº“
            value: gaussdb
          - icon: ''
            label:
              en_US: DM Database
              ja_JP: DM Database
              pt_BR: DM Database
              zh_Hans: è¾¾æ¢¦æ•°æ®åº“
            value: dm
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database ip/host
            ja_JP: Database ip/host
            pt_BR: Database ip/host
            zh_Hans: æ•°æ®åº“IP/åŸŸå
          label:
            en_US: Database ip/host
            ja_JP: Database ip/host
            pt_BR: Database ip/host
            zh_Hans: æ•°æ®åº“IP/åŸŸå
          llm_description: Database ip/host
          max: null
          min: null
          name: host
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database port
            ja_JP: Database port
            pt_BR: Database port
            zh_Hans: æ•°æ®åº“ç«¯å£
          label:
            en_US: Database port
            ja_JP: Database port
            pt_BR: Database port
            zh_Hans: æ•°æ®åº“ç«¯å£
          llm_description: Database port
          max: 65535
          min: 1
          name: port
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: æ•°æ®åº“åç§°
          label:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: æ•°æ®åº“åç§°
          llm_description: Database name
          max: null
          min: null
          name: db_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          label:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          llm_description: Username
          max: null
          min: null
          name: username
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          label:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          llm_description: Password
          max: null
          min: null
          name: password
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: secret-input
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Schema name
            ja_JP: Schema name
            pt_BR: Schema name
            zh_Hans: æ•°æ®åº“Schema PGSQLç”¨æˆ·é€‰å¡«ï¼Œé»˜è®¤ä¸ºpublic
          label:
            en_US: Schema name
            ja_JP: Schema name
            pt_BR: Schema name
            zh_Hans: æ•°æ®åº“Schemaï¼ˆPGSQLé»˜è®¤ä¸ºpublicï¼ŒOracle/DMé»˜è®¤ä¸ºç”¨æˆ·åå¤§å†™ï¼‰
          llm_description: Schema name
          max: null
          min: null
          name: schema
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Fetching data from the database using natural language.
            ja_JP: Fetching data from the database using natural language.
            pt_BR: Fetching data from the database using natural language.
            zh_Hans: Fetching data from the database using natural language.
          label:
            en_US: SQL string
            ja_JP: SQL string
            pt_BR: SQL string
            zh_Hans: å¾…æ‰§è¡Œçš„ SQL è¯­å¥
          llm_description: Fetching data from the database using natural language.
          max: null
          min: null
          name: sql
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: json
          form: llm
          human_description:
            en_US: result_format
            ja_JP: result_format
            pt_BR: result_format
            zh_Hans: è¿”å›æ•°æ®æ ¼å¼
          label:
            en_US: result_format
            ja_JP: result_format
            pt_BR: result_format
            zh_Hans: è¿”å›æ•°æ®æ ¼å¼
          llm_description: result_format
          max: null
          min: null
          name: result_format
          options:
          - icon: ''
            label:
              en_US: JSON
              ja_JP: JSON
              pt_BR: JSON
              zh_Hans: JSON
            value: json
          - icon: ''
            label:
              en_US: TEXT
              ja_JP: TEXT
              pt_BR: TEXT
              zh_Hans: TEXT
            value: text
          - icon: ''
            label:
              en_US: CSV
              ja_JP: CSV
              pt_BR: CSV
              zh_Hans: CSV
            value: csv
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          db_name: ''
          db_type: ''
          host: ''
          password: ''
          port: ''
          result_format: ''
          schema: ''
          sql: ''
          username: ''
        provider_id: jaguarliuu/rookie_text2data/rookie_text2data
        provider_name: jaguarliuu/rookie_text2data/rookie_text2data
        provider_type: builtin
        selected: false
        title: rookie_excute_sql
        tool_configurations: {}
        tool_description: sql æ‰§è¡Œå™¨
        tool_label: rookie_excute_sql
        tool_name: rookie_excute_sql
        tool_node_version: '2'
        tool_parameters:
          db_name:
            type: mixed
            value: audit_flow
          db_type:
            type: constant
            value: mysql
          host:
            type: mixed
            value: 100.81.13.52
          password:
            type: mixed
            value: '123456'
          port:
            type: constant
            value: 3306
          result_format:
            type: constant
            value: text
          schema:
            type: mixed
            value: null
          sql:
            type: mixed
            value: '{{#1769152389349.result#}}'
          username:
            type: mixed
            value: root
        type: tool
      height: 53
      id: '1762806404950'
      position:
        x: 1116.2857142857142
        y: 692.9999999999999
      positionAbsolute:
        x: 1116.2857142857142
        y: 692.9999999999999
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: f728ae4c-5b2d-44aa-9599-64f5a3ecf398
          conditions:
          - comparison_operator: empty
            id: 423ae905-2855-4d2c-8dad-58174fb2ba2f
            value: ''
            varType: string
            variable_selector:
            - '1762798056508'
            - sql
          id: f728ae4c-5b2d-44aa-9599-64f5a3ecf398
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 125
      id: '1762850617238'
      position:
        x: 442.57142857142856
        y: 481
      positionAbsolute:
        x: 442.57142857142856
        y: 481
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          label:
            en_US: Database type
            ja_JP: Database type
            pt_BR: Database type
            zh_Hans: æ•°æ®åº“ç±»å‹
          llm_description: Database type
          max: null
          min: null
          name: db_type
          options:
          - icon: ''
            label:
              en_US: MySQL
              ja_JP: MySQL
              pt_BR: MySQL
              zh_Hans: MySQL
            value: mysql
          - icon: ''
            label:
              en_US: PostgreSQL
              ja_JP: PostgreSQL
              pt_BR: PostgreSQL
              zh_Hans: PostgreSQL
            value: postgresql
          - icon: ''
            label:
              en_US: SQL Server
              ja_JP: SQL Server
              pt_BR: SQL Server
              zh_Hans: SQL Server
            value: sqlserver
          - icon: ''
            label:
              en_US: Oracle
              ja_JP: Oracle
              pt_BR: Oracle
              zh_Hans: Oracle
            value: oracle
          - icon: ''
            label:
              en_US: GaussDB
              ja_JP: GaussDB
              pt_BR: GaussDB
              zh_Hans: åä¸ºé«˜æ–¯æ•°æ®åº“
            value: gaussdb
          - icon: ''
            label:
              en_US: DM Database
              ja_JP: DM Database
              pt_BR: DM Database
              zh_Hans: è¾¾æ¢¦æ•°æ®åº“
            value: dm
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: select
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database ip/host
            ja_JP: Database ip/host
            pt_BR: Database ip/host
            zh_Hans: æ•°æ®åº“IP/åŸŸå
          label:
            en_US: Database ip/host
            ja_JP: Database ip/host
            pt_BR: Database ip/host
            zh_Hans: æ•°æ®åº“IP/åŸŸå
          llm_description: Database ip/host
          max: null
          min: null
          name: host
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database port
            ja_JP: Database port
            pt_BR: Database port
            zh_Hans: æ•°æ®åº“ç«¯å£
          label:
            en_US: Database port
            ja_JP: Database port
            pt_BR: Database port
            zh_Hans: æ•°æ®åº“ç«¯å£
          llm_description: Database port
          max: 65535
          min: 1
          name: port
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: number
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: æ•°æ®åº“åç§°
          label:
            en_US: Database name
            ja_JP: Database name
            pt_BR: Database name
            zh_Hans: æ•°æ®åº“åç§°
          llm_description: Database name
          max: null
          min: null
          name: db_name
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          label:
            en_US: Username
            ja_JP: Username
            pt_BR: Username
            zh_Hans: ç”¨æˆ·å
          llm_description: Username
          max: null
          min: null
          name: username
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          label:
            en_US: Password
            ja_JP: Password
            pt_BR: Password
            zh_Hans: å¯†ç 
          llm_description: Password
          max: null
          min: null
          name: password
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: secret-input
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Schema name
            ja_JP: Schema name
            pt_BR: Schema name
            zh_Hans: æ•°æ®åº“Schema PGSQLç”¨æˆ·é€‰å¡«ï¼Œé»˜è®¤ä¸ºpublic
          label:
            en_US: Schema name
            ja_JP: Schema name
            pt_BR: Schema name
            zh_Hans: æ•°æ®åº“Schemaï¼ˆPGSQLé»˜è®¤ä¸ºpublicï¼ŒOracle/DMé»˜è®¤ä¸ºç”¨æˆ·åå¤§å†™ï¼‰
          llm_description: Schema name
          max: null
          min: null
          name: schema
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: Fetching data from the database using natural language.
            ja_JP: Fetching data from the database using natural language.
            pt_BR: Fetching data from the database using natural language.
            zh_Hans: Fetching data from the database using natural language.
          label:
            en_US: SQL string
            ja_JP: SQL string
            pt_BR: SQL string
            zh_Hans: å¾…æ‰§è¡Œçš„ SQL è¯­å¥
          llm_description: Fetching data from the database using natural language.
          max: null
          min: null
          name: sql
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: json
          form: llm
          human_description:
            en_US: result_format
            ja_JP: result_format
            pt_BR: result_format
            zh_Hans: è¿”å›æ•°æ®æ ¼å¼
          label:
            en_US: result_format
            ja_JP: result_format
            pt_BR: result_format
            zh_Hans: è¿”å›æ•°æ®æ ¼å¼
          llm_description: result_format
          max: null
          min: null
          name: result_format
          options:
          - icon: ''
            label:
              en_US: JSON
              ja_JP: JSON
              pt_BR: JSON
              zh_Hans: JSON
            value: json
          - icon: ''
            label:
              en_US: TEXT
              ja_JP: TEXT
              pt_BR: TEXT
              zh_Hans: TEXT
            value: text
          - icon: ''
            label:
              en_US: CSV
              ja_JP: CSV
              pt_BR: CSV
              zh_Hans: CSV
            value: csv
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          db_name: ''
          db_type: ''
          host: ''
          password: ''
          port: ''
          result_format: ''
          schema: ''
          sql: ''
          username: ''
        provider_id: jaguarliuu/rookie_text2data/rookie_text2data
        provider_name: jaguarliuu/rookie_text2data/rookie_text2data
        provider_type: builtin
        selected: false
        title: rookie_excute_sql (1)
        tool_configurations: {}
        tool_description: sql æ‰§è¡Œå™¨
        tool_label: rookie_excute_sql
        tool_name: rookie_excute_sql
        tool_node_version: '2'
        tool_parameters:
          db_name:
            type: mixed
            value: audit_flow
          db_type:
            type: constant
            value: mysql
          host:
            type: mixed
            value: 100.81.13.52
          password:
            type: mixed
            value: '123456'
          port:
            type: constant
            value: 3306
          result_format:
            type: constant
            value: text
          schema:
            type: mixed
            value: null
          sql:
            type: mixed
            value: '{{#1762798056508.sql#}}'
          username:
            type: mixed
            value: root
        type: tool
      height: 53
      id: '17628506871820'
      position:
        x: 827.7142857142856
        y: 816.7142857142858
      positionAbsolute:
        x: 827.7142857142856
        y: 816.7142857142858
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        output_type: string
        selected: false
        title: å˜é‡èšåˆå™¨
        type: variable-aggregator
        variables:
        - - '1762806404950'
          - text
        - - '17628506871820'
          - text
      height: 136
      id: '1762850709903'
      position:
        x: 1468.3089517514657
        y: 493.9120920037162
      positionAbsolute:
        x: 1468.3089517514657
        y: 493.9120920037162
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_array_file: true
        selected: false
        title: æ–‡æ¡£æå–å™¨
        type: document-extractor
        variable_selector:
        - '1762798056508'
        - files
      height: 93
      id: '1762850964553'
      position:
        x: 970.3624113148487
        y: 101.3700397532536
      positionAbsolute:
        x: 970.3624113148487
        y: 101.3700397532536
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: DeepSeek-R1-Distill-Llama-70B
          provider: langgenius/openai_api_compatible/openai_api_compatible
        prompt_template:
        - id: 745e17e8-3026-4d0c-9532-d6895e295792
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªè‡ªç„¶èµ„æºå®¡è®¡æ•°æ®åˆ†æä¸“å®¶ï¼Œæ ¹æ®ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£åˆ†ææ•°æ®ç–‘ç‚¹ã€‚

            '
        - id: e96608af-3669-41f5-a373-7e0bae377d14
          role: user
          text: 'ç”¨æˆ·è¾“å…¥ï¼š{{#1762798056508.query#}}

            åˆ†æè¿™ä¸ªæ•°æ®ï¼š{{#1762850964553.text#}}


            å¦‚æœè¿™æ˜¯ä¸€ä¸ªæ ‡å‡†è¡¨ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹çš„å¸¸è§é—®é¢˜å’Œå®¡è®¡æ–¹æ³•ï¼š

            ä¸€ã€ å¤§æ°”æ±¡æŸ“é˜²æ²»å®¡è®¡ï¼ˆåŸºäºè¡¨1ï¼šç¯å¢ƒç©ºæ°”è´¨é‡ï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š å…³æ³¨â€œå˜å·®â€çš„è¶‹åŠ¿å’Œâ€œé€ å‡â€çš„å¯èƒ½ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            ç©ºæ°”è´¨é‡åå¼¹é£é™©ï¼š é‡ç‚¹å…³æ³¨PM2.5ã€PM10ã€O3ï¼ˆè‡­æ°§ï¼‰æµ“åº¦æ˜¯å¦å‘ˆé€å¹´ä¸Šå‡è¶‹åŠ¿ï¼Œæˆ–ä¼˜è‰¯å¤©æ•°æ¯”ä¾‹æ˜¯å¦ä¸‹é™ã€‚

            æ•°æ®å¼‚å¸¸çªå˜ï¼ˆäººä¸ºå¹²æ‰°ç›‘æµ‹ï¼‰ï¼š æŸä¸€å¹´æ•°æ®çªç„¶æå¥½ï¼Œç¦»ä»»åé©¬ä¸Šå˜å·®ï¼›æˆ–è€…åœ¨å›½å®¶/çœè€ƒæ ¸çš„å…³é”®æœˆä»½æ•°æ®å¼‚å¸¸â€œå¹³æ»‘â€ã€‚

            è€ƒæ ¸ä»»åŠ¡æœªå®Œæˆï¼š å¯¹æ¯”çœã€å¸‚ä¸‹è¾¾çš„å¹´åº¦ç©ºæ°”è´¨é‡æ”¹å–„ç›®æ ‡ï¼ˆå¦‚PM2.5æµ“åº¦æ§åˆ¶çº¿ï¼‰ï¼Œæ ¸å®æ˜¯å¦å®Œæˆã€‚

            å®¡è®¡æ–¹æ³•è®º

            è¶‹åŠ¿åˆ†ææ³•ï¼š åœ¨Excelä¸­å¯¹2021-2024å¹´çš„6é¡¹æ±¡æŸ“ç‰©æµ“åº¦åšæŠ˜çº¿å›¾ï¼Œç›´è§‚åˆ¤æ–­æ¶åŒ–è¶‹åŠ¿ã€‚

            å…³è”æ¯”å¯¹æ³•ï¼š å°†è¡¨1ä¸­çš„æ•°æ®ä¸æ°”è±¡éƒ¨é—¨çš„é£åŠ›ã€é™é›¨æ•°æ®å¯¹æ¯”ã€‚å¦‚æœæ°”è±¡æ¡ä»¶æœ‰åˆ©äºæ‰©æ•£ä½†æ•°æ®åè€Œå˜å·®ï¼Œè¯´æ˜å‡æ’ä¸åŠ›ã€‚

            ç«™ç‚¹æ ¸æŸ¥æ³•ï¼š è¯¢é—®æ˜¯å¦æœ‰â€œå–·æ·‹é™å°˜â€å¹²æ‰°ç›‘æµ‹ç«™ç‚¹çš„è¡Œä¸ºï¼ˆå¦‚é›¾ç‚®è½¦é•¿æœŸåœåœ¨ç›‘æµ‹ç‚¹é™„è¿‘ï¼‰ã€‚


            äºŒã€ åœŸåœ°ä¸çŸ¿äº§èµ„æºå®¡è®¡ï¼ˆåŸºäºè¡¨2ï¼šåœŸåœ°çŸ¿äº§èµ„æºï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š ä¸¥å®ˆâ€œè€•åœ°çº¢çº¿â€ï¼Œä¸¥æŸ¥â€œæ— è¯å¼€é‡‡â€ä¸â€œè™šå‡ä¿®å¤â€ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            è€•åœ°â€œéå†œåŒ–â€ã€â€œéç²®åŒ–â€ï¼š è€•åœ°ä¿æœ‰é‡æ˜¯å¦ä½äºç›®æ ‡ä»»åŠ¡ï¼Ÿâ€œå½“å¹´å‡å°‘â€çš„è€•åœ°å»äº†å“ªé‡Œï¼Ÿæ˜¯å¦å­˜åœ¨è¿è§„å ç”¨è€•åœ°ç»¿åŒ–é€ æ—ã€æŒ–æ¹–é€ æ™¯æˆ–å»ºè®¾æˆ¿å±‹ã€‚

            å è¡¥å¹³è¡¡å¼„è™šä½œå‡ï¼š â€œå½“å¹´è¡¥å……â€çš„è€•åœ°æ•°é‡æ˜¯å¦çœŸå®ï¼Ÿæ˜¯å¦å­˜åœ¨â€œå ä¼˜è¡¥åŠ£â€ï¼ˆå ç”¨æ°´ç”°ï¼Œè¡¥å……æ—±åœ°æˆ–çŸ³æ¼ åŒ–åœŸåœ°ï¼‰ã€‚

            çŸ¿å±±â€œæ‰¹å°‘é‡‡å¤šâ€ä¸è¶Šç•Œå¼€é‡‡ï¼š å®é™…å¼€é‡‡é‡æ˜¯å¦è¿œè¶…å‚¨é‡è¡¨æ•°æ®ï¼Ÿæ˜¯å¦å­˜åœ¨æ— è¯å¼€é‡‡æˆ–è¶Šç•Œå¼€é‡‡ã€‚

            åºŸå¼ƒçŸ¿å±±ä¿®å¤æ»åï¼š â€œå†å²é—ç•™çŸ¿å±±â€æ•°é‡é•¿æœŸä¸å‡ï¼Œæˆ–â€œå·²å…³é—­çŸ¿å±±â€æœªè¿›è¡Œå®è´¨æ€§ç”Ÿæ€ä¿®å¤ï¼ˆä»…åˆ·ç»¿æ¼†ã€æŒ‚ç»¿ç½‘ï¼‰ã€‚

            å®¡è®¡æ–¹æ³•è®º

            å›¾æ–‘æ¯”å¯¹ï¼ˆå…³é”®æŠ€æœ¯ï¼‰ï¼š

            åˆ©ç”¨ArcGISç­‰è½¯ä»¶ï¼Œå°†åœŸåœ°åˆ©ç”¨ç°çŠ¶å›¾ä¸é¥æ„Ÿå½±åƒå åŠ ã€‚é‡ç‚¹æŸ¥çœ‹å›¾ä¸Šæ ‡ä¸ºâ€œè€•åœ°â€çš„åŒºåŸŸï¼Œå½±åƒä¸Šæ˜¯å¦å‘ˆç°ä¸ºâ€œå»ºç­‘ç‰©â€ã€â€œæ ‘æ—â€æˆ–â€œæ°´å‘â€ã€‚

            é€»è¾‘å‹¾ç¨½ï¼š è¡¨2çš„â€œè€•åœ°ä¿æœ‰é‡â€ + â€œå½“å¹´å‡å°‘â€ - â€œå½“å¹´è¡¥å……â€ åº”ç­‰äºä¸‹ä¸€å¹´çš„æœŸåˆæ•°ï¼Œè®¡ç®—å¹³è¡¡å…³ç³»æ˜¯å¦æˆç«‹ã€‚


            ä¸‰ã€ æ°´èµ„æºç®¡ç†å®¡è®¡ï¼ˆåŸºäºè¡¨3.1æ²³æµã€3.2æ¹–æ³Šã€3.3æ°´åº“ï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š å…³æ³¨â€œä»¥æ°´å®šäº§â€è½å®æƒ…å†µåŠæ°´è´¨â€œé™ç±»â€é£é™©ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            æ°´è´¨æ¶åŒ–ä¸â€œæ–­é¢è¶…æ ‡â€ï¼š é‡ç‚¹çœ‹2022-2024å¹´æ°´è´¨ç±»åˆ«å˜åŒ–ï¼ˆå¦‚ç”±â…¢ç±»é™ä¸ºâ…£ç±»ï¼‰ã€‚å…³æ³¨æ˜¯å¦æœ‰åŠ£Vç±»æ°´ä½“é•¿æœŸæœªæ¶ˆé™¤ã€‚

            æ°´åŸŸé¢ç§¯èç¼©ï¼ˆå›´æ¹–é€ åœ°ï¼‰ï¼š å¯¹æ¯”è¡¨3.2ä¸­å„å¹´åº¦â€œæ¹–ä½“é¢ç§¯â€ï¼Œæ’æŸ¥æ˜¯å¦å­˜åœ¨å¡«æ¹–é€ åœ°ã€å›´æ¹–å…»æ®–å¯¼è‡´æ¹–æ³Šèç¼©çš„é—®é¢˜ã€‚

            ç”Ÿæ€æµé‡ä¸è¶³ï¼š æ²³æµã€æ°´åº“æ˜¯å¦å› è¿‡åº¦å–æ°´ã€å‘ç”µï¼Œå¯¼è‡´ä¸‹æ¸¸æ–­æµæˆ–æœªè¾¾åˆ°æœ€å°ç”Ÿæ€æµé‡ã€‚

            é¥®ç”¨æ°´æºåœ°éšæ‚£ï¼š æ°´åº“ï¼ˆè‹¥ä¸ºæ°´æºåœ°ï¼‰å‘¨è¾¹æ˜¯å¦å­˜åœ¨è¿è§„å†œä¸šç§æ¤ã€ç½‘ç®±å…»æ®–æˆ–æ’æ±¡å£ã€‚

            å®¡è®¡æ–¹æ³•è®º

            ä¸Šä¸‹æ¸¸æ¯”å¯¹ï¼š å¯¹æ¯”æ²³æµå…¥å¢ƒæ–­é¢å’Œå‡ºå¢ƒæ–­é¢çš„æ°´è´¨ï¼Œå¦‚æœå‡ºå¢ƒæ°´è´¨æ˜¾è‘—åŠ£äºå…¥å¢ƒæ°´è´¨ï¼Œè¯´æ˜æœ¬åŒºåŸŸå†…å­˜åœ¨ä¸¥é‡æ±¡æŸ“æºã€‚

            åå½•æ ¸æŸ¥ï¼š å°†è¡¨å†…çš„æ¹–æ³Šåç§°ä¸ã€Šæ¹–åŒ—çœæ¹–æ³Šä¿æŠ¤åå½•ã€‹æ¯”å¯¹ï¼Œçœ‹æ˜¯å¦æœ‰é—æ¼æœªæŠ¥çš„æ¹–æ³Šï¼Œæ˜¯å¦å­˜åœ¨â€œæ— åæ¹–â€è¢«ä¾µå æ— äººç®¡çš„æƒ…å†µã€‚


            å››ã€ æ£®æ—ä¸æ¹¿åœ°å®¡è®¡ï¼ˆåŸºäºè¡¨4ï¼šæ£®æ—èµ„æºï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š ç´§ç›¯â€œæ—åœ°æµå¤±â€ä¸â€œä¿æŠ¤åŒºè¿å»ºâ€ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            æ—åœ°è½¬ä¸ºå»ºè®¾ç”¨åœ°ï¼š æ£®æ—æ€»é¢ç§¯ã€è“„ç§¯é‡æ˜¯å¦å¼‚å¸¸ä¸‹é™ï¼Ÿæ˜¯å¦å­˜åœ¨æœªç»å®¡æ‰¹å°†æ—åœ°è½¬ä¸ºå»ºè®¾ç”¨åœ°ï¼ˆå¦‚å»ºå…‰ä¼ã€é£ç”µé¡¹ç›®ï¼‰ã€‚

            è‡ªç„¶ä¿æŠ¤åœ°â€œç¼©æ°´â€ï¼š è‡ªç„¶ä¿æŠ¤åŒºé¢ç§¯æ˜¯å¦é€å¹´å‡å°‘ï¼Ÿæ˜¯å¦å­˜åœ¨é€šè¿‡è°ƒæ•´è§„åˆ’å°†è¿å»ºé¡¹ç›®â€œè°ƒå‡ºâ€ä¿æŠ¤åŒºçš„æƒ…å†µã€‚

            æ—åœ°ä¸è€•åœ°â€œé‡å â€ï¼š è¡¨4çš„â€œæ£®æ—é¢ç§¯â€ä¸è¡¨2çš„â€œè€•åœ°é¢ç§¯â€æ˜¯å¦å­˜åœ¨åœ°å—é‡å ï¼ˆå³ä¸€å—åœ°åœ¨æ—ä¸šå±€ç®—æ—åœ°ï¼Œåœ¨è‡ªè§„å±€ç®—è€•åœ°ï¼Œä»¥æ­¤éª—å–åŒæ–¹è¡¥è´´æˆ–åº”ä»˜è€ƒæ ¸ï¼‰ã€‚

            å®¡è®¡æ–¹æ³•è®º

            é‡å åˆ†æï¼ˆGISï¼‰ï¼š å°†â€œæ—åœ°ä¸€å¼ å›¾â€å›¾å±‚ä¸â€œå›½åœŸä¸‰è°ƒâ€è€•åœ°æ•°æ®å›¾å±‚å åŠ ï¼Œè®¡ç®—é‡å é¢ç§¯ï¼Œæ­ç¤ºéƒ¨é—¨æ•°æ®æ‰“æ¶é—®é¢˜ã€‚

            å½±åƒå›æº¯ï¼š è°ƒå–å†å²å«æ˜Ÿå½±åƒï¼Œè§‚å¯Ÿè‡ªç„¶ä¿æŠ¤åŒºæ ¸å¿ƒåŒºå†…æ˜¯å¦æ–°å¢äº†äººç±»æ´»åŠ¨ç—•è¿¹ï¼ˆé“è·¯ã€æˆ¿å±‹ï¼‰ã€‚


            äº”ã€ çº¦æŸæ€§æŒ‡æ ‡å®¡è®¡ï¼ˆåŸºäºè¡¨5ï¼šç”Ÿæ€ç¯ä¿çº¦æŸæ€§æŒ‡æ ‡ï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š è¿™æ˜¯â€œæµ‹è°è¡¨â€ï¼Œç”¨äºæ ¡éªŒå„éƒ¨é—¨æ•°æ®çš„çœŸå®æ€§ä¸è€ƒæ ¸è¾¾æ ‡æƒ…å†µã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            æ•°æ®ä¸ä¸€è‡´ï¼ˆéƒ¨é—¨æ‰“æ¶ï¼‰ï¼š

            è¡¨5çš„â€œè€•åœ°ä¿æœ‰é‡â€æ˜¯å¦ä¸è¡¨2ä¸€è‡´ï¼Ÿ

            è¡¨5çš„â€œæ£®æ—è¦†ç›–ç‡â€æ˜¯å¦ä¸è¡¨4ä¸€è‡´ï¼Ÿ

            è¡¨5çš„â€œç©ºæ°”ä¼˜è‰¯å¤©æ•°â€æ˜¯å¦ä¸è¡¨1ä¸€è‡´ï¼Ÿ

            å¸¸è§é—®é¢˜ï¼š å¡«è¡¨äººä¸ºå®Œæˆè€ƒæ ¸ï¼Œåœ¨è¡¨5å¡«æŠ¥ç¾åŒ–åçš„æ•°æ®ï¼Œè€Œå„ä¸šåŠ¡ç§‘å®¤åœ¨åˆ†è¡¨ï¼ˆè¡¨1-4ï¼‰å¡«æŠ¥çœŸå®æ•°æ®ï¼Œå¯¼è‡´å‰åçŸ›ç›¾ã€‚

            çº¦æŸæ€§æŒ‡æ ‡æœªè¾¾æ ‡ï¼š ç›´æ¥å¯¹æ¯”â€œ2024å¹´å®é™…å€¼â€ä¸â€œåå››äº”ç›®æ ‡å€¼â€ã€‚é‡ç‚¹å…³æ³¨ï¼šä¸‡å…ƒGDPèƒ½è€—ã€ç¢³æ’æ”¾ã€ä¸»è¦æ±¡æŸ“ç‰©æ’æ”¾é‡æ˜¯å¦å®Œæˆå‰Šå‡ä»»åŠ¡ã€‚

            çªå‡»å®Œæˆä»»åŠ¡ï¼š æŸäº›æŒ‡æ ‡ï¼ˆå¦‚ä¼˜è‰¯å¤©æ•°ã€æ°´è´¨è¾¾æ ‡ç‡ï¼‰åœ¨è€ƒæ ¸æˆªæ­¢å‰ï¼ˆå¦‚12æœˆï¼‰çªç„¶å¤§å¹…å¥½è½¬ï¼Œå¯èƒ½å­˜åœ¨äººä¸ºæ“ä½œã€‚

            å®¡è®¡æ–¹æ³•è®º

            æ•°æ®äº¤å‰éªŒè¯è¡¨ï¼š å»ºç«‹ä¸€å¼ Excelåº•ç¨¿ï¼Œæ¨ªå‘åˆ—å‡ºè¡¨1-4çš„æ•°æ®ï¼Œçºµå‘åˆ—å‡ºè¡¨5çš„æ•°æ®ï¼Œè®¾ç½®å…¬å¼è‡ªåŠ¨è®¡ç®—å·®é¢ï¼Œå·®é¢ä¸ä¸º0å³ä¸ºç–‘ç‚¹ã€‚


            å…­ã€ å†³ç­–ä¸æ‰§è¡Œå®¡è®¡ï¼ˆåŸºäºè¡¨6ï¼šä¼šè®®æƒ…å†µï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š æŸ¥â€œä¸ä½œä¸ºâ€å’Œâ€œä¹±ä½œä¸ºâ€ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            è®®è€Œä¸å†³ã€å†³è€Œä¸è¡Œï¼š ä¼šè®®çºªè¦ä¸­æåˆ°çš„æ•´æ”¹è¦æ±‚ï¼ˆå¦‚â€œæŸæœˆæŸæ—¥å‰æ‹†é™¤è¿å»ºâ€ï¼‰ï¼Œåœ¨â€œæ‰§è¡Œè¿›å±•æƒ…å†µâ€æ æ˜¯å¦é•¿æœŸæ˜¾ç¤ºâ€œæ­£åœ¨æ¨è¿›â€è€Œæ— å®è´¨ç»“æœã€‚

            å†³ç­–è¿è§„ï¼ˆè®©æ­¥è®©åˆ©ï¼‰ï¼š æ˜¯å¦å­˜åœ¨é€šè¿‡ä¼šè®®çºªè¦ï¼Œè¿è§„å‡å…ä¼ä¸šçš„çŸ¿äº§èµ„æºè¡¥å¿è´¹ã€åœŸåœ°å‡ºè®©é‡‘ï¼Œæˆ–è¿è§„æ‰¹å‡†é™ä½ç¯ä¿æ ‡å‡†å¼•è¿›é¡¹ç›®ã€‚

            ç”Ÿæ€è®®é¢˜ç¼ºå¤±ï¼š ç»Ÿè®¡ä¸‰å¹´å†…æ¶‰åŠç”Ÿæ€æ–‡æ˜å»ºè®¾çš„è®®é¢˜å æ¯”ã€‚å¦‚æœå æ¯”æä½ï¼Œè¯´æ˜é¢†å¯¼å¹²éƒ¨å¯¹ç”Ÿæ€è´£ä»»é‡è§†ä¸å¤Ÿã€‚

            å®¡è®¡æ–¹æ³•è®º

            å…³é”®è¯æ£€ç´¢ï¼š åœ¨ä¼šè®®çºªè¦å†…å®¹ä¸­æ£€ç´¢â€œç‰¹äº‹ç‰¹åŠâ€ã€â€œæš‚ç¼“æ‰§è¡Œâ€ã€â€œå‡å…â€ã€â€œç»¿è‰²é€šé“â€ç­‰æ•æ„Ÿè¯ï¼Œå¾€å¾€èƒ½å‘ç°è¿è§„å¼€å£å­çš„é—®é¢˜ã€‚


            ä¸ƒã€ åˆ¶åº¦å»ºè®¾å®¡è®¡ï¼ˆåŸºäºè¡¨7ï¼šå‡ºå°åˆ¶åº¦ï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š æŸ¥â€œåˆ¶åº¦çœŸç©ºâ€å’Œâ€œç…§æ¬ç…§æŠ„â€ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            åˆ¶åº¦ç¼ºå¤±ï¼š å›½å®¶æˆ–çœé‡Œå·²ç»å‡ºå°äº†â€œæ—é•¿åˆ¶â€ã€â€œæ²³é•¿åˆ¶â€ç­‰è¦æ±‚ï¼Œæœ¬åœ°æ˜¯å¦åœ¨åˆç†æœŸé™å†…å‡ºå°äº†å…·ä½“å®æ–½æ–¹æ¡ˆï¼Ÿ

            åˆ¶åº¦å½¢å¼ä¸»ä¹‰ï¼š æŠ½æŸ¥æ–‡ä»¶å†…å®¹ï¼Œæ˜¯å¦å­˜åœ¨å…¨æ–‡ç…§æ¬ä¸Šçº§æ–‡ä»¶ï¼Œè¿â€œçœæ”¿åºœâ€å­—æ ·éƒ½æ²¡æ”¹æˆâ€œå¸‚æ”¿åºœâ€ï¼Œæˆ–è€…ç¼ºä¹æœ¬åœ°å…·ä½“çš„è€ƒæ ¸ç»†åˆ™ã€‚


            å…«ã€ æ•°æ®è´£ä»»å®¡è®¡ï¼ˆåŸºäºè¡¨8ï¼šç”µå­æ•°æ®æ¸…å•ï¼‰

            æ ¸å¿ƒé€»è¾‘ï¼š æŸ¥â€œæ•°æ®å­¤å²›â€å’Œâ€œæ¨è¯¿æ‰¯çš®â€ã€‚

            é‡ç‚¹å®¡è®¡é—®é¢˜

            æ‹’ç»æä¾›æ•°æ®ï¼š æŸéƒ¨é—¨åœ¨â€œæ˜¯å¦æä¾›â€æ é€‰â€œå¦â€ï¼Œç†ç”±æ˜¯â€œæ¶‰å¯†â€æˆ–â€œæ— ç”µå­æ•°æ®â€ã€‚è¿™å¾€å¾€æ˜¯æ©ç›–é—®é¢˜çš„å€Ÿå£ï¼ˆé™¤æå°‘æ•°æ¶‰å¯†å¤–ï¼Œè‡ªç„¶èµ„æºæ•°æ®åº”å‘å®¡è®¡æä¾›ï¼‰ã€‚

            æ•°æ®è´¨é‡å·®ï¼š æä¾›çš„ç”µå­æ•°æ®ç¼ºä¹åæ ‡ç³»ã€å­—æ®µæ®‹ç¼ºã€å¹´ä»½ä¸­æ–­ï¼Œå¯¼è‡´å®¡è®¡æ— æ³•åˆ†æã€‚


            åœ¨ç»™å‡ºè‡ªç„¶è¯­è¨€çš„åˆ†æåï¼Œéœ€è¦é™„å¸¦ä¸Šæ•´ç†å¥½çš„ã€æ‰€æœ‰ç–‘ç‚¹æœ€ç»ˆéƒ½éœ€è¦ç”¨ä¸€ä¸ªè¡¨æ ¼æ ¼å¼å±•ç¤ºç–‘ç‚¹æ¸…å•ï¼Œè¡¨æ ¼éœ€è¦æœ‰ä»¥ä¸‹å­—æ®µï¼šåºå· | åœ°çº§å¸‚åç§° | å¸‚å¿åŒºåç§°
            | ç–‘ç‚¹åˆ†ç±» | ç–‘ç‚¹åç§° | é—®é¢˜è¯¦è¿° | ç–‘ä¼¼è¿æ³•æ³•è§„ | æ ¸å®æƒ…å†µï¼ˆç»Ÿä¸€å¡«â€œå¾…æ ¸å®â€ï¼‰ | å¤‡æ³¨'
        selected: false
        title: LLM 2 (1)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '17628515797280'
      position:
        x: 1235.3103934038584
        y: 266.56345795925785
      positionAbsolute:
        x: 1235.3103934038584
        y: 266.56345795925785
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '17628515797280'
          - text
          value_type: string
          variable: output
        selected: false
        title: ç»“æŸ (1)
        type: end
      height: 89
      id: '17654538407950'
      position:
        x: 1530.5331064970303
        y: 266.56345795925785
      positionAbsolute:
        x: 1530.5331064970303
        y: 266.56345795925785
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import re\n\ndef main(arg1: str) -> dict:\n    text = (arg1 or \"\"\
          )\n\n    # 1) æœ€ç¨³ï¼šä¼˜å…ˆæå– ```sql ... ``` ä»£ç å—é‡Œçš„å†…å®¹\n    m = re.search(r\"```sql\\\
          s*(.*?)\\s*```\", text, flags=re.IGNORECASE | re.DOTALL)\n    if m:\n  \
          \      return {\"result\": m.group(1).strip()}\n\n    # 2) å…œåº•ï¼šå»æ‰â€œæ€è€ƒæ®µâ€â€”â€”å…¼å®¹åªæœ‰\
          \ </think>ã€æˆ– <think>...</think>ã€æˆ–è£¸ think æ ‡ç­¾\n    # 2.1 å»æ‰å®Œæ•´ think å—ï¼ˆå¦‚æœæœ‰å¼€é—­ï¼‰\n\
          \    text2 = re.sub(r\"<think>.*?</think>\", \"\", text, flags=re.IGNORECASE\
          \ | re.DOTALL)\n\n    # 2.2 å¦‚æœåªæœ‰ </think>ï¼ˆæ²¡æœ‰ <think>ï¼‰ï¼Œåˆ™æŠŠå®ƒå‰é¢çš„å†…å®¹éƒ½åˆ æ‰\n    if\
          \ re.search(r\"</think>\", text2, flags=re.IGNORECASE):\n        text2 =\
          \ re.split(r\"</think>\", text2, flags=re.IGNORECASE, maxsplit=1)[-1]\n\n\
          \    # 2.3 å…¼å®¹æ— å°–æ‹¬å·çš„ thinkï¼ˆä¾‹å¦‚ï¼šthink ... </think> æˆ– think ...ï¼‰\n    # å¦‚æœå‡ºç°\
          \ \"think\" ä½†æ²¡æœ‰ ```sql```ï¼Œä¹Ÿå°½é‡æˆªæ–­åˆ°æœ€åä¸€ä¸ª think ç»“æŸç¬¦å\n    if re.search(r\"\\\
          bthink\\b\", text, flags=re.IGNORECASE) and not m:\n        # è‹¥æœ‰ </think>\
          \ å·²å¤„ç†ï¼›å¦åˆ™ä¸å¼ºè¡Œåˆ‡ï¼ˆé¿å…è¯¯ä¼¤æ­£æ–‡é‡Œå‡ºç°thinkå•è¯ï¼‰\n        pass\n\n    text2 = text2.strip()\n\
          \n    # 3) ä» text2 é‡Œæå– SQLï¼šæŠ“å–ç¬¬ä¸€ä¸ª SELECT/WITH å¼€å§‹åˆ°ç»“å°¾\n    m2 = re.search(r\"\
          (?is)\\b(with|select)\\b.*\", text2)\n    sql = m2.group(0).strip() if m2\
          \ else \"\"\n\n    # 4) æ¸…ç†æ®‹ç•™çš„ä»£ç å›´æ /å¤šä½™åå¼•å·\n    sql = re.sub(r\"```+\", \"\"\
          , sql).strip()\n\n    return {\"result\": sql}\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - '1762805735019'
          - text
          value_type: string
          variable: arg1
      height: 53
      id: '1769152389349'
      position:
        x: 816.2857142857142
        y: 692.9999999999999
      positionAbsolute:
        x: 816.2857142857142
        y: 692.9999999999999
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -945.7842572371404
      y: 29.380537401038964
      zoom: 0.7617203786651402
